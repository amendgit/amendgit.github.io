<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Leetcode Solutions 181 200 - amendgit`s blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="amendgit" />
  <meta name="description" content="本文用来记录我的leetcode解题报告，用于之后的代码优化、查阅和复习。这里是第181题到第200题。部分答案是以前的答案。
" />

  <meta name="keywords" content="amendgit, blog" />






<meta name="generator" content="Hugo 0.52" />


<link rel="canonical" href="http://localhost:1313/post/leetcode/leetcode-solutions-181-200/" />

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">







<link href="/dist/even.min.css?v=3.2.0" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">




<meta property="og:title" content="Leetcode Solutions 181 200" />
<meta property="og:description" content="本文用来记录我的leetcode解题报告，用于之后的代码优化、查阅和复习。这里是第181题到第200题。部分答案是以前的答案。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/post/leetcode/leetcode-solutions-181-200/" /><meta property="article:published_time" content="2018-09-22T18:05:34&#43;08:00"/>
<meta property="article:modified_time" content="2018-09-22T18:05:34&#43;08:00"/>

<meta itemprop="name" content="Leetcode Solutions 181 200">
<meta itemprop="description" content="本文用来记录我的leetcode解题报告，用于之后的代码优化、查阅和复习。这里是第181题到第200题。部分答案是以前的答案。">


<meta itemprop="datePublished" content="2018-09-22T18:05:34&#43;08:00" />
<meta itemprop="dateModified" content="2018-09-22T18:05:34&#43;08:00" />
<meta itemprop="wordCount" content="1289">



<meta itemprop="keywords" content="leetcode," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Leetcode Solutions 181 200"/>
<meta name="twitter:description" content="本文用来记录我的leetcode解题报告，用于之后的代码优化、查阅和复习。这里是第181题到第200题。部分答案是以前的答案。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">amendgit&#39;s blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">amendgit&#39;s blog</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Leetcode Solutions 181 200</h1>

      <div class="post-meta">
        <span class="post-time"> 2018-09-22 </span>
        
        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#187-repeated-dna-sequences">187. Repeated DNA Sequences</a></li>
<li><a href="#188-best-time-to-buy-and-sell-stock-iv">188. Best Time to Buy and Sell Stock IV</a></li>
<li><a href="#189-rotate-array">189. Rotate Array</a></li>
<li><a href="#190-reverse-bits">190. Reverse Bits</a></li>
<li><a href="#191-number-of-1-bits">191. Number of 1 Bits</a></li>
<li><a href="#192-197">192 ~ 197</a></li>
<li><a href="#198-house-robber">198. House Robber</a></li>
<li><a href="#199-binary-tree-right-side-view">199. Binary Tree Right Side View</a></li>
<li><a href="#200-number-of-islands">200. Number of Islands</a></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    

    
    <div class="post-content">
      <p>本文用来记录我的leetcode解题报告，用于之后的代码优化、查阅和复习。这里是第181题到第200题。部分答案是以前的答案。</p>

<h2 id="187-repeated-dna-sequences">187. Repeated DNA Sequences</h2>

<p>link: <a href="https://leetcode.com/problems/repeated-dna-sequences/description/">https://leetcode.com/problems/repeated-dna-sequences/description/</a></p>

<p>用hashmap记录子串的个数，然后把大于1的返回即可。</p>

<pre><code class="language-cpp">class Solution {
public:
    vector&lt;string&gt; findRepeatedDnaSequences(string&amp; s) {
    	vector&lt;string&gt; result; if (s.empty()) return result;
        int len = s.length(); unordered_map&lt;string, int&gt; tbl;
        for (int i=0; i&lt;=len-10; i++) tbl[s.substr(i, 10)]++;
        for (auto&amp; ss : tbl) if (ss.second &gt; 1) result.push_back(ss.first);
        return move(result);
    }
};
</code></pre>

<p>看了答案有一个非常机智的答案，A 0x41, C 0x43, G 0x47, T 0x54，他们的二进制后三位都不一样，也就是可以用30个位来表示子串。然后，用位操作就可以找打重复子串。能节省10倍的内存。</p>

<pre><code class="language-cpp">class Solution {
public:
    vector&lt;string&gt; findRepeatedDnaSequences(string&amp; s) {
    	vector&lt;string&gt; result; if (s.empty()) return result;
        int n = 0, p = 0, len = s.length(); 
        while (p &lt; 9) n = n &lt;&lt; 3 | s[p++] &amp; 7;
        unordered_map&lt;int, int&gt; tbl;
        while (p &lt; len) 
            if (tbl[n = n &lt;&lt; 3 &amp; 0x3fffffff | s[p++] &amp; 7]++ == 1) 
                result.push_back(s.substr(p-10, 10));
        return move(result);
    }
};
</code></pre>

<p>也可以将其当做四进制来计算，用一个26大小的数组，将A C G T映射到0 1 2 3，然后计算每个10字符串的大小，和上面的答案类似。</p>

<h2 id="188-best-time-to-buy-and-sell-stock-iv">188. Best Time to Buy and Sell Stock IV</h2>

<p>link: <a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/description/">https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/description/</a></p>

<ul>
<li>类似123题的思路，只不过这里需要用一个数字来记录buy和sell的max money.</li>
<li>注意k最多只能是len-1，再多不可能了。</li>
</ul>

<p>耗时900ms</p>

<pre><code class="language-cpp">class Solution {
public:
    int maxProfit(int k, vector&lt;int&gt;&amp; prices) {
        int len = prices.size(); if (len &lt; 2) return 0; k = min(len-1, k);
        vector&lt;int&gt; f(2*k+1, 0); for (int i=0; i&lt;2*k+1; i++) if (i&amp;1==1) f[i]=INT_MIN;
        for (int price : prices) {
            for (int i=1; i&lt;2*k+1; i++) {
                if (i&amp;1==1) f[i] = max(f[i], f[i-1]-price);
                else        f[i] = max(f[i], f[i-1]+price);
            }
        }
        return f.back();
    }
};
</code></pre>

<p>看答案，可以有一些优化，当k大于len/2时，意味着我们可以主要赚钱就买。这次只要4ms。</p>

<pre><code class="language-cpp">class Solution {
public:
    int maxProfit(int k, vector&lt;int&gt;&amp; prices) {
        int len = prices.size(); if (len &lt; 2) return 0;
        if (k &gt; len/2) {
            int profit = 0; 
            for (int i=1; i&lt;len; i++) 
                if (prices[i]&gt;prices[i-1]) profit+=prices[i]-prices[i-1];
            return profit;
        }
        vector&lt;int&gt; f(2*k+1, 0); 
        for (int i=0; i&lt;2*k+1; i++) if (i&amp;1==1) f[i]=INT_MIN;
        for (int price : prices) for (int i=1; i&lt;2*k+1; i++) 
            if (i&amp;1==1) f[i] = max(f[i], f[i-1]-price);
            else        f[i] = max(f[i], f[i-1]+price);
        return f.back();
    }
};
</code></pre>

<h2 id="189-rotate-array">189. Rotate Array</h2>

<p>link: <a href="https://leetcode.com/problems/rotate-array/description/">https://leetcode.com/problems/rotate-array/description/</a></p>

<pre><code class="language-cpp">class Solution {
public:
    void rotate(vector&lt;int&gt;&amp; nums, int k) {
        int len = nums.size();
        vector&lt;int&gt; tmp(len, 0);
        for (int i=0, j=k%len; i&lt;len; i++, j=(i+k)%len) tmp[j] = nums[i];
        nums.swap(tmp);
    }
};
</code></pre>

<h2 id="190-reverse-bits">190. Reverse Bits</h2>

<p>link: <a href="https://leetcode.com/problems/reverse-bits/description/">https://leetcode.com/problems/reverse-bits/description/</a></p>

<p>&amp;的优先级比==号要低，注意加括号。</p>

<pre><code class="language-cpp">class Solution {
public:
    uint32_t reverseBits(uint32_t n) {
        uint32_t result = 0;
        for (int i=0; i&lt;32; i++) result = (result&lt;&lt;1) + (n&gt;&gt;i&amp;1);
        return result;
    }
};
</code></pre>

<h2 id="191-number-of-1-bits">191. Number of 1 Bits</h2>

<p>link: <a href="https://leetcode.com/problems/number-of-1-bits/description/">https://leetcode.com/problems/number-of-1-bits/description/</a></p>

<pre><code class="language-cpp">class Solution {
public:
    int hammingWeight(uint32_t n) {
        int result = 0;
        for (; n &gt; 0; n = n&gt;&gt;1) (n&amp;1) &amp;&amp; (result+=1);
        return result;
    }
};
</code></pre>

<h2 id="192-197">192 ~ 197</h2>

<p>shell和sql的题目，先空着。</p>

<h2 id="198-house-robber">198. House Robber</h2>

<p>link: <a href="https://leetcode.com/problems/house-robber/description/">https://leetcode.com/problems/house-robber/description/</a></p>

<p>用深搜，超时了。</p>

<pre><code class="language-cpp">class Solution {
public:
    int rob(vector&lt;int&gt;&amp; nums) {
        int result = 0; if (nums.empty()) return result;
        rob(nums, 0, 0, result);
        return result;
    }
    
    void rob(vector&lt;int&gt;&amp; nums, int p, int path, int&amp; result) {
        if (p &gt;= nums.size()) {
            result = max(result, path);
            return;
        }
        path += nums[p];
        rob(nums, p+2, path, result);
        path -= nums[p];
        rob(nums, p+1, path, result);
    }
};
</code></pre>

<p>用动态规划，f[i].first表示nums[i]取的情况，f[i].second表示nums[i]不取的情况。</p>

<pre><code class="language-cpp">class Solution {
public:
    int rob(vector&lt;int&gt;&amp; nums) {
        if (nums.empty()) return 0;
        int len = nums.size();
        vector&lt;pair&lt;int, int&gt;&gt; f(len, {0,0}); f[0] = {nums[0],0};
        for (int i=1; i&lt;len; i++) {
            f[i].first  = f[i-1].second + nums[i];
            f[i].second = max(f[i-1].first, f[i-1].second);
        }
        return max(f.back().first, f.back().second);
    }
};
</code></pre>

<p>通过观察，我们可以只用常量的空间就可以了。</p>

<pre><code class="language-cpp">class Solution {
public:
    int rob(vector&lt;int&gt;&amp; nums) {
        if (nums.empty()) return 0;
        int len = nums.size(), a = nums[0], b = 0;
        for (int i=1; i&lt;len; i++) {
            int tmp = a; a = b + nums[i]; b = max(tmp, b);
        }
        return max(a, b);
    }
};
</code></pre>

<h2 id="199-binary-tree-right-side-view">199. Binary Tree Right Side View</h2>

<p>link: <a href="https://leetcode.com/problems/binary-tree-right-side-view/discuss/">https://leetcode.com/problems/binary-tree-right-side-view/discuss/</a></p>

<p>level order traversel，加上一个获取最后一个节点的val。</p>

<pre><code class="language-cpp">/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode(int x) : val(x), left(NULL), right(NULL) {}
 * };
 */
class Solution {
public:
    vector&lt;int&gt; rightSideView(TreeNode* root) {
        vector&lt;int&gt; result; queue&lt;TreeNode*&gt; curr;
        if (root) curr.push(root);
        while (!curr.empty()) {
            queue&lt;TreeNode*&gt; next;
            result.push_back(curr.back()-&gt;val);
            do {
                auto p = curr.front(); curr.pop();
                if (p-&gt;left ) next.push(p-&gt;left );
                if (p-&gt;right) next.push(p-&gt;right);
            } while (!curr.empty());
            swap(curr, next);
        }
        return move(result);
    }
};
</code></pre>

<h2 id="200-number-of-islands">200. Number of Islands</h2>

<p>link: <a href="https://leetcode.com/problems/number-of-islands/description/">https://leetcode.com/problems/number-of-islands/description/</a></p>

<p>深度遍历标记法</p>

<ul>
<li>注意pair的值可以用<code>tie(i,j) = foo()</code>取，还有个C++17的语法<code>auto [i,j] = foo</code>貌似leetcode不支持。</li>
</ul>

<pre><code class="language-cpp">class Solution {
public:
    int numIslands(vector&lt;vector&lt;char&gt;&gt;&amp; grid) {
        if (grid.empty() || grid[0].empty()) return 0;
        int m = grid.size(), n = grid[0].size(), result = 0;
        for (int i=0; i&lt;m; i++) for (int j=0; j&lt;n; j++) {
            if (grid[i][j] == '0') continue;
            result++; mark(grid, i, j, m, n);
        }
        return result;
    }
    
    void mark(vector&lt;vector&lt;char&gt;&gt;&amp; grid, int i, int j, int m, int n) {
        queue&lt;pair&lt;int,int&gt;&gt; q; q.push({i,j});
        do {
            tie(i, j) = q.front(); q.pop();
            if (grid[i][j] != '1') continue; 
            if (j&gt;0  ) q.push({i  , j-1});
            if (i&gt;0  ) q.push({i-1, j  });
            if (j&lt;n-1) q.push({i  , j+1});
            if (i&lt;m-1) q.push({i+1, j  });
            grid[i][j] = '0';
        } while(!q.empty());
    }
};
</code></pre>
    </div>

    
    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">amendgit</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">2018-09-22</span>
  </p>
  
  
</div>

    
    

    <footer class="post-footer">
      <div class="post-tags">
          
          <a href="/tags/leetcode/">leetcode</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/leetcode/leetcode-solutions-201-220/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Leetcode Solutions 201 220</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/post/read/spring-in-action/">
            <span class="next-text nav-default">Spring in Action</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        
  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:shijian0912@163.com" class="iconfont icon-email" title="email"></a>
      <a href="http://localhost:1313" class="iconfont icon-stack-overflow" title="stack-overflow"></a>
      <a href="http://localhost:1313" class="iconfont icon-twitter" title="twitter"></a>
      <a href="http://localhost:1313" class="iconfont icon-facebook" title="facebook"></a>
      <a href="http://localhost:1313" class="iconfont icon-linkedin" title="linkedin"></a>
      <a href="http://localhost:1313" class="iconfont icon-google" title="google"></a>
      <a href="http://localhost:1313" class="iconfont icon-github" title="github"></a>
      <a href="http://localhost:1313" class="iconfont icon-weibo" title="weibo"></a>
      <a href="http://localhost:1313" class="iconfont icon-zhihu" title="zhihu"></a>
      <a href="http://localhost:1313" class="iconfont icon-douban" title="douban"></a>
      <a href="http://localhost:1313" class="iconfont icon-pocket" title="pocket"></a>
      <a href="http://localhost:1313" class="iconfont icon-tumblr" title="tumblr"></a>
      <a href="http://localhost:1313" class="iconfont icon-instagram" title="instagram"></a>
  <a href="http://localhost:1313/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    
      2017 - 
    2019
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">amendgit</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script src="/lib/highlight/highlight.pack.js?v=20171001"></script><script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>


<script type="text/javascript" src="/dist/even.min.js?v=3.2.0"></script>








</body>
</html>
