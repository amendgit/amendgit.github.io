<!DOCTYPE html>
<html>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="54. Spiral Matrix链接：https://leetcode.com/problems/spiral-matrix/用(rb, cb, re, ce)表示矩阵的矩形区域，便利矩形边界和动态更新矩形区域的大小。在向左便利和向上便利的时候，需要判断前面的操作过程中有没有使得矩形失效。 12345678910111213141516class Solution &amp;#123;public:">
<meta property="og:type" content="article">
<meta property="og:title" content="LeetCode解题报告 50-N">
<meta property="og:url" content="http://www.amendgit.com/2017/leetcode-solutions-050-N/index.html">
<meta property="og:site_name" content="amendgit&#39;s blog">
<meta property="og:description" content="54. Spiral Matrix链接：https://leetcode.com/problems/spiral-matrix/用(rb, cb, re, ce)表示矩阵的矩形区域，便利矩形边界和动态更新矩形区域的大小。在向左便利和向上便利的时候，需要判断前面的操作过程中有没有使得矩形失效。 12345678910111213141516class Solution &amp;#123;public:">
<meta property="og:locale" content="default">
<meta property="og:image" content="leanote://file/getImage?fileId=578dfd09ab644135ea017f5d">
<meta property="og:updated_time" content="2017-08-26T02:33:07.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeetCode解题报告 50-N">
<meta name="twitter:description" content="54. Spiral Matrix链接：https://leetcode.com/problems/spiral-matrix/用(rb, cb, re, ce)表示矩阵的矩形区域，便利矩形边界和动态更新矩形区域的大小。在向左便利和向上便利的时候，需要判断前面的操作过程中有没有使得矩形失效。 12345678910111213141516class Solution &amp;#123;public:">
<meta name="twitter:image" content="leanote://file/getImage?fileId=578dfd09ab644135ea017f5d">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>LeetCode解题报告 50-N</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/amendgit">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        <li><a class="icon" href="#"><i class="fa fa-bars fa-lg" aria-hidden="true" onmouseover='$("#i-toc").toggle();' onmouseout='$("#i-toc").toggle();' onclick='$("#toc").toggle();return false;'></i></a></li>
        
        <li><a class="icon" href="/2017/cs224n-assignment-2/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li>
        
        
        <li><a class="icon" href="/2017/cs224n-assignment-1/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li>
      </ul>
      <span id="i-toc" class="info" style="display:none;">Table of content</span>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://www.amendgit.com/2017/leetcode-solutions-050-N/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://www.amendgit.com/2017/leetcode-solutions-050-N/&text=LeetCode解题报告 50-N"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://www.amendgit.com/2017/leetcode-solutions-050-N/&title=LeetCode解题报告 50-N"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://www.amendgit.com/2017/leetcode-solutions-050-N/&is_video=false&description=LeetCode解题报告 50-N"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=LeetCode解题报告 50-N&body=Check out this article: http://www.amendgit.com/2017/leetcode-solutions-050-N/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://www.amendgit.com/2017/leetcode-solutions-050-N/&title=LeetCode解题报告 50-N"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://www.amendgit.com/2017/leetcode-solutions-050-N/&title=LeetCode解题报告 50-N"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://www.amendgit.com/2017/leetcode-solutions-050-N/&title=LeetCode解题报告 50-N"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://www.amendgit.com/2017/leetcode-solutions-050-N/&title=LeetCode解题报告 50-N"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://www.amendgit.com/2017/leetcode-solutions-050-N/&name=LeetCode解题报告 50-N&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#54-Spiral-Matrix"><span class="toc-number">1.</span> <span class="toc-text">54. Spiral Matrix</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#57-Insert-Interval"><span class="toc-number">2.</span> <span class="toc-text">57. Insert Interval</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#61-Rotate-List"><span class="toc-number">3.</span> <span class="toc-text">61. Rotate List</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#65-Valid-Number"><span class="toc-number">4.</span> <span class="toc-text">65. Valid Number</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#71-Simplify-Path"><span class="toc-number">5.</span> <span class="toc-text">71. Simplify Path</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#76-Minimum-Window-Substring"><span class="toc-number">6.</span> <span class="toc-text">76. Minimum Window Substring</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#79-Word-Search"><span class="toc-number">7.</span> <span class="toc-text">79. Word Search</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#84-Largest-Rectangle-in-Histogram"><span class="toc-number">8.</span> <span class="toc-text">84. Largest Rectangle in Histogram</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#85-Maximal-Rectangle"><span class="toc-number">9.</span> <span class="toc-text">85. Maximal Rectangle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#91-Decode-Ways"><span class="toc-number">10.</span> <span class="toc-text">91. Decode Ways</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#93-Restore-IP-Addresses"><span class="toc-number">11.</span> <span class="toc-text">93. Restore IP Addresses</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#97-Interleaving-String"><span class="toc-number">12.</span> <span class="toc-text">97. Interleaving String</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#98-Validate-Binary-Search-Tree"><span class="toc-number">13.</span> <span class="toc-text">98. Validate Binary Search Tree</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#124-Binary-Tree-Maximum-Path-Sum"><span class="toc-number">14.</span> <span class="toc-text">124. Binary Tree Maximum Path Sum</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#126-Word-Ladder-II"><span class="toc-number">15.</span> <span class="toc-text">126. Word Ladder II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#132-Palindrome-Partitioning-II"><span class="toc-number">16.</span> <span class="toc-text">132. Palindrome Partitioning II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#139-Word-Break"><span class="toc-number">17.</span> <span class="toc-text">139. Word Break</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#140-Word-Break-II"><span class="toc-number">18.</span> <span class="toc-text">140. Word Break II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#143-Reorder-List"><span class="toc-number">19.</span> <span class="toc-text">143. Reorder List</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#144-Binary-Tree-Preorder-Traversal"><span class="toc-number">20.</span> <span class="toc-text">144. Binary Tree Preorder Traversal</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#146-LRU-Cache"><span class="toc-number">21.</span> <span class="toc-text">146. LRU Cache</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#149-Max-Points-on-a-Line"><span class="toc-number">22.</span> <span class="toc-text">149. Max Points on a Line</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#151-Reverse-Words-in-a-String"><span class="toc-number">23.</span> <span class="toc-text">151  Reverse Words in a String</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#130-Surrounded-Regions"><span class="toc-number">24.</span> <span class="toc-text">130. Surrounded Regions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#152-Maximum-Product-Subarray"><span class="toc-number">25.</span> <span class="toc-text">152. Maximum Product Subarray</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#155-Min-Stack"><span class="toc-number">26.</span> <span class="toc-text">155. Min Stack</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#189-Rotate-Array"><span class="toc-number">27.</span> <span class="toc-text">189. Rotate Array</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#212-Word-Search-II"><span class="toc-number">28.</span> <span class="toc-text">212. Word Search II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#218-The-Skyline-Problem"><span class="toc-number">29.</span> <span class="toc-text">218. The Skyline Problem</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#233-Number-of-Digit-One"><span class="toc-number">30.</span> <span class="toc-text">233. Number of Digit One</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#295-Find-Median-from-Data-Stream"><span class="toc-number">31.</span> <span class="toc-text">295. Find Median from Data Stream</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#304-Range-Sum-Query-2D-Immutable"><span class="toc-number">32.</span> <span class="toc-text">304. Range Sum Query 2D - Immutable</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#307-Range-Sum-Query-Mutable"><span class="toc-number">33.</span> <span class="toc-text">307. Range Sum Query - Mutable</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#321-Create-Maximum-Number"><span class="toc-number">34.</span> <span class="toc-text">321. Create Maximum Number</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#324-Wiggle-Sort-II"><span class="toc-number">35.</span> <span class="toc-text">324. Wiggle Sort II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#557-Reverse-Words-in-a-String-III"><span class="toc-number">36.</span> <span class="toc-text">557. Reverse Words in a String III</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#549-Binary-Tree-Longest-Consecutive-Sequence-II"><span class="toc-number">37.</span> <span class="toc-text">549. Binary Tree Longest Consecutive Sequence II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#554-Brick-Wall"><span class="toc-number">38.</span> <span class="toc-text">554. Brick Wall</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#556-Next-Greater-Element-III"><span class="toc-number">39.</span> <span class="toc-text">556. Next Greater Element III</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#551-Student-Attendance-Record-I"><span class="toc-number">40.</span> <span class="toc-text">551. Student Attendance Record I</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#552-Student-Attendance-Record-II"><span class="toc-number">41.</span> <span class="toc-text">552. Student Attendance Record II</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        LeetCode解题报告 50-N
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">amendgit's blog</span>
      </span>
      
    <div class="postdate">
        <time datetime="2017-08-26T02:23:00.000Z" itemprop="datePublished">2017-08-26</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="54-Spiral-Matrix"><a href="#54-Spiral-Matrix" class="headerlink" title="54. Spiral Matrix"></a>54. Spiral Matrix</h2><p>链接：<a href="https://leetcode.com/problems/spiral-matrix/" target="_blank" rel="noopener">https://leetcode.com/problems/spiral-matrix/</a><br>用(rb, cb, re, ce)表示矩阵的矩形区域，便利矩形边界和动态更新矩形区域的大小。在向左便利和向上便利的时候，需要判断前面的操作过程中有没有使得矩形失效。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; spiralOrder(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; matrix) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">        <span class="keyword">if</span> (matrix.empty()) <span class="keyword">return</span> result;</span><br><span class="line">        <span class="keyword">int</span> rb=<span class="number">0</span>, cb=<span class="number">0</span>, re=matrix.size()<span class="number">-1</span>, ce=matrix[<span class="number">0</span>].size()<span class="number">-1</span>, i;</span><br><span class="line">        result.reserve((re+<span class="number">1</span>)*(ce+<span class="number">1</span>)); </span><br><span class="line">        <span class="keyword">while</span> (cb&lt;=ce &amp;&amp; rb&lt;=re) &#123;</span><br><span class="line">            <span class="keyword">for</span> (i=cb; i&lt;=ce; ++i) result.push_back(matrix[rb][i]); rb++;</span><br><span class="line">            <span class="keyword">for</span> (i=rb; i&lt;=re; ++i) result.push_back(matrix[i][ce]); ce--;</span><br><span class="line">            <span class="keyword">if</span> (rb &lt;= re) <span class="keyword">for</span> (i=ce; i&gt;=cb; --i) result.push_back(matrix[re][i]); re--;</span><br><span class="line">            <span class="keyword">if</span> (cb &lt;= ce) <span class="keyword">for</span> (i=re; i&gt;=rb; --i) result.push_back(matrix[i][cb]); cb++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> move(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="57-Insert-Interval"><a href="#57-Insert-Interval" class="headerlink" title="57. Insert Interval"></a>57. Insert Interval</h2><p>链接：<a href="https://leetcode.com/problems/insert-interval/" target="_blank" rel="noopener">https://leetcode.com/problems/insert-interval/</a><br>思路：先找到与start相交的interval，然后开始合并，直到与end相交的interval，再放压入剩余的interval.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for an interval.</span></span><br><span class="line"><span class="comment"> * struct Interval &#123;</span></span><br><span class="line"><span class="comment"> *     int start;</span></span><br><span class="line"><span class="comment"> *     int end;</span></span><br><span class="line"><span class="comment"> *     Interval() : start(0), end(0) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     Interval(int s, int e) : start(s), end(e) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;Interval&gt; insert(<span class="built_in">vector</span>&lt;Interval&gt;&amp; I, Interval i) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;Interval&gt; result; <span class="keyword">int</span> p=<span class="number">0</span>, len=I.size();</span><br><span class="line">        <span class="keyword">while</span> (p&lt;len &amp;&amp; I[p].end&lt;i.start) result.push_back(I[p++]);</span><br><span class="line">        <span class="keyword">while</span> (p&lt;len &amp;&amp; I[p].start&lt;=i.end) &#123; </span><br><span class="line">            i.start = min(I[p].start, i.start); </span><br><span class="line">            i.end   = max(I[p].end  , i.end); </span><br><span class="line">            p++; </span><br><span class="line">        &#125; </span><br><span class="line">        result.push_back(i);</span><br><span class="line">        <span class="keyword">while</span> (p &lt; len) result.push_back(I[p++]);</span><br><span class="line">        <span class="keyword">return</span> move(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="61-Rotate-List"><a href="#61-Rotate-List" class="headerlink" title="61. Rotate List"></a>61. Rotate List</h2><p>链接：<a href="https://leetcode.com/problems/rotate-list/" target="_blank" rel="noopener">https://leetcode.com/problems/rotate-list/</a><br>思路：先计算链表长度len，双指针p1和p2，p1先走k步，开始同时走p1和p2，当p1-&gt;next指向null时，p2指向倒数第k+1个元素，调整两部分链表的前后顺序即可。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">rotateRight</span><span class="params">(ListNode* head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        ListNode *p1=head, *p2=head;</span><br><span class="line">        <span class="keyword">int</span> len=<span class="number">0</span>; <span class="keyword">while</span> (p1!=<span class="literal">nullptr</span>) &#123; p1=p1-&gt;next; len++; &#125;</span><br><span class="line">        <span class="keyword">if</span> (len == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">        k = k % len; p1 = head;</span><br><span class="line">        <span class="keyword">if</span> (k == <span class="number">0</span>) <span class="keyword">return</span> head;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;k; ++i) p1 = p1-&gt;next;</span><br><span class="line">        <span class="keyword">while</span> (p1-&gt;next != <span class="literal">nullptr</span>) &#123; p1 = p1-&gt;next; p2 = p2-&gt;next; &#125;</span><br><span class="line">        p1-&gt;next = head; head = p2-&gt;next; p2-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="65-Valid-Number"><a href="#65-Valid-Number" class="headerlink" title="65. Valid Number"></a>65. Valid Number</h2><p>链接：<a href="https://leetcode.com/problems/valid-number/" target="_blank" rel="noopener">https://leetcode.com/problems/valid-number/</a><br>思路：用状态机，transition的条件为输入字符的类型，状态为0到9，其中0表示开始，99表示成功结束。每行表示从当前状态（行下标）遇到对应的条件跳转到的下一个状态，-1表示无效终止。其他思路，一个完整的数字包括+123.123e+123，其中符号部分是可选的，第一个123和第二个123必须出现一个，最后的e部分也是可选的。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isNumber</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">enum</span> ConditionType &#123;</span><br><span class="line">            INVALID, SPACE, SIGN, DIGIT, DOT, EXPONENT, ENDSTR, NUMINPUTS</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">int</span> next[][NUMINPUTS] = &#123;</span><br><span class="line">            <span class="number">-1</span>,       <span class="number">0</span>,     <span class="number">1</span>,    <span class="number">2</span>,     <span class="number">3</span>,  <span class="number">-1</span>,       <span class="number">-1</span>, <span class="comment">// 0</span></span><br><span class="line">            <span class="number">-1</span>,      <span class="number">-1</span>,    <span class="number">-1</span>,    <span class="number">2</span>,     <span class="number">3</span>,  <span class="number">-1</span>,       <span class="number">-1</span>, <span class="comment">// 1</span></span><br><span class="line">            <span class="number">-1</span>,       <span class="number">9</span>,    <span class="number">-1</span>,    <span class="number">2</span>,     <span class="number">4</span>,   <span class="number">5</span>,       <span class="number">99</span>, <span class="comment">// 2</span></span><br><span class="line">            <span class="number">-1</span>,      <span class="number">-1</span>,    <span class="number">-1</span>,    <span class="number">6</span>,    <span class="number">-1</span>,  <span class="number">-1</span>,       <span class="number">-1</span>, <span class="comment">// 3</span></span><br><span class="line">            <span class="number">-1</span>,       <span class="number">9</span>,    <span class="number">-1</span>,    <span class="number">6</span>,    <span class="number">-1</span>,   <span class="number">5</span>,       <span class="number">99</span>, <span class="comment">// 4</span></span><br><span class="line">            <span class="number">-1</span>,      <span class="number">-1</span>,     <span class="number">7</span>,    <span class="number">8</span>,    <span class="number">-1</span>,  <span class="number">-1</span>,       <span class="number">-1</span>, <span class="comment">// 5</span></span><br><span class="line">            <span class="number">-1</span>,       <span class="number">9</span>,    <span class="number">-1</span>,    <span class="number">6</span>,    <span class="number">-1</span>,   <span class="number">5</span>,       <span class="number">99</span>, <span class="comment">// 6</span></span><br><span class="line">            <span class="number">-1</span>,      <span class="number">-1</span>,    <span class="number">-1</span>,    <span class="number">8</span>,    <span class="number">-1</span>,  <span class="number">-1</span>,       <span class="number">-1</span>, <span class="comment">// 7</span></span><br><span class="line">            <span class="number">-1</span>,       <span class="number">9</span>,    <span class="number">-1</span>,    <span class="number">8</span>,    <span class="number">-1</span>,  <span class="number">-1</span>,       <span class="number">99</span>, <span class="comment">// 8</span></span><br><span class="line">            <span class="number">-1</span>,       <span class="number">9</span>,    <span class="number">-1</span>,   <span class="number">-1</span>,    <span class="number">-1</span>,  <span class="number">-1</span>,       <span class="number">99</span>, <span class="comment">// 9</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">int</span> state = <span class="number">0</span>, condition;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> ch : s) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">isspace</span>(ch))                 condition = SPACE;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">isdigit</span>(ch))            condition = DIGIT;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (ch==<span class="string">'+'</span> || ch==<span class="string">'-'</span>)     condition = SIGN;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">'.'</span>)              condition = DOT;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">'E'</span> || ch == <span class="string">'e'</span>) condition = EXPONENT;</span><br><span class="line">            <span class="keyword">else</span>                             condition = INVALID;</span><br><span class="line">            state = next[state][condition];</span><br><span class="line">            <span class="keyword">if</span> (state == <span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> next[state][ENDSTR] == <span class="number">99</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="71-Simplify-Path"><a href="#71-Simplify-Path" class="headerlink" title="71. Simplify Path"></a>71. Simplify Path</h2><p>链接：<a href="https://leetcode.com/problems/simplify-path/" target="_blank" rel="noopener">https://leetcode.com/problems/simplify-path/</a><br>思路：将每个有效的component存储再数组中，过程中移除空目录，处理特殊的目录如”..”和”.”，注意vector为空时，pop_back会报异常。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">simplifyPath</span><span class="params">(<span class="built_in">string</span>&amp; path)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">int</span> len = path.length(); <span class="keyword">int</span> l=<span class="number">1</span>, h=<span class="number">1</span>; <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; p;</span><br><span class="line">        <span class="keyword">if</span> (len==<span class="number">0</span> || path[<span class="number">0</span>]!=<span class="string">'/'</span>) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt; len) &#123;</span><br><span class="line">            <span class="keyword">while</span> (h&lt;len &amp;&amp; path[h]!=<span class="string">'/'</span>) h++;</span><br><span class="line">            <span class="built_in">string</span> tmp = path.substr(l, h-l);</span><br><span class="line">            <span class="keyword">if</span>      (tmp == <span class="string">".."</span>)       &#123; <span class="keyword">if</span> (!p.empty()) p.pop_back(); &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (tmp!=<span class="string">"."</span> &amp;&amp; h-l&gt;<span class="number">0</span>) &#123; p.push_back(move(tmp)); &#125;</span><br><span class="line">            l = ++h;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (p.empty()) <span class="keyword">return</span> <span class="string">"/"</span>;</span><br><span class="line">        <span class="built_in">string</span> result;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; s : p) &#123; result.push_back(<span class="string">'/'</span>); result.append(s); &#125;</span><br><span class="line">        <span class="keyword">return</span> move(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="76-Minimum-Window-Substring"><a href="#76-Minimum-Window-Substring" class="headerlink" title="76. Minimum Window Substring"></a>76. Minimum Window Substring</h2><p>链接：<a href="https://leetcode.com/problems/minimum-window-substring/" target="_blank" rel="noopener">https://leetcode.com/problems/minimum-window-substring/</a><br>思路：双指针，先移动i直到t中的字符全部在s[l,i]中出现，在移动l使得s[l,i]满足条件的同时i-l最小，计数使用数组。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">minWindow</span><span class="params">(<span class="built_in">string</span>&amp; s, <span class="built_in">string</span>&amp; t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> S[<span class="number">256</span>], T[<span class="number">256</span>], l=<span class="number">0</span>, count=<span class="number">0</span>, minl=<span class="number">0</span>, minh=INT_MAX;</span><br><span class="line">        fill_n(S, <span class="number">256</span>, <span class="number">0</span>); fill_n(T, <span class="number">256</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> c : t) T[c]++;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;s.length(); i++) &#123;</span><br><span class="line">            S[s[i]]++;</span><br><span class="line">            <span class="keyword">if</span> (S[s[i]] &lt;= T[s[i]]) count++;</span><br><span class="line">            <span class="keyword">if</span> (count == t.length()) &#123;</span><br><span class="line">                <span class="keyword">while</span> (S[s[l]] &gt; T[s[l]]) S[s[l++]]--;</span><br><span class="line">                <span class="keyword">if</span> (minh-minl &gt; i-l) &#123; minh = i; minl = l; &#125;</span><br><span class="line">                S[s[l++]]--; count--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (minh == INT_MAX) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">return</span> move(s.substr(minl, minh-minl+<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="79-Word-Search"><a href="#79-Word-Search" class="headerlink" title="79. Word Search"></a>79. Word Search</h2><p>递归求解</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">exist</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board, <span class="built_in">string</span> word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (board.empty()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x=<span class="number">0</span>; x&lt;board.size(); x++) <span class="keyword">for</span> (<span class="keyword">int</span> y=<span class="number">0</span>; y&lt;board[<span class="number">0</span>].size(); y++)</span><br><span class="line">            <span class="keyword">if</span> (DFS(board, x, y, word, <span class="number">0</span>)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">DFS</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board, <span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="built_in">string</span>&amp; word, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (board[x][y] != word[i]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (i == word.size()<span class="number">-1</span>)     <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">char</span> c = board[x][y]; board[x][y] = <span class="string">'*'</span>; <span class="keyword">bool</span> result = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (x<span class="number">-1</span> &gt;= <span class="number">0</span>)              result = result || DFS(board, x<span class="number">-1</span>, y,   word, i+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (x+<span class="number">1</span> &lt; board.size())    result = result || DFS(board, x+<span class="number">1</span>, y,   word, i+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (y<span class="number">-1</span> &gt;= <span class="number">0</span>)              result = result || DFS(board, x,   y<span class="number">-1</span>, word, i+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (y+<span class="number">1</span> &lt; board[<span class="number">0</span>].size()) result = result || DFS(board, x,   y+<span class="number">1</span>, word, i+<span class="number">1</span>);</span><br><span class="line">        board[x][y] = c;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>非递归求解<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(<span class="built_in">string</span>&amp; start, <span class="built_in">string</span>&amp; end, <span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt;&amp; words)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt; visited, curr, next;</span><br><span class="line">        visited.insert(start), curr.insert(start);</span><br><span class="line">        <span class="keyword">int</span> depth = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (!curr.empty()) &#123;</span><br><span class="line">            depth++;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> word : curr) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;word.size(); i++) <span class="keyword">for</span> (<span class="keyword">char</span> c=<span class="string">'a'</span>; c&lt;=<span class="string">'z'</span>; c++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (word[i] == c) <span class="keyword">continue</span>;</span><br><span class="line">                    swap(word[i], c);</span><br><span class="line">                    <span class="keyword">if</span> (word == end) <span class="keyword">return</span> depth;</span><br><span class="line">                    <span class="keyword">if</span> (words.find(word)!=words.end() &amp;&amp; visited.find(word)==visited.end()) </span><br><span class="line">                        next.insert(word);</span><br><span class="line">                    swap(word[i], c);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; word : next) visited.insert(word);</span><br><span class="line">            curr.clear(); swap(curr, next);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="84-Largest-Rectangle-in-Histogram"><a href="#84-Largest-Rectangle-in-Histogram" class="headerlink" title="84. Largest Rectangle in Histogram"></a>84. Largest Rectangle in Histogram</h2><p>链接：<a href="https://leetcode.com/problems/largest-rectangle-in-histogram/" target="_blank" rel="noopener">https://leetcode.com/problems/largest-rectangle-in-histogram/</a><br>思路：使用栈，遍历数组，如果比top大则压入并继续遍历，如果比top小，则弹出top计算面积直到top比当前元素小时为止。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">largestRectangleArea</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; heights)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s; <span class="keyword">int</span> i=<span class="number">0</span>; <span class="keyword">int</span> result=<span class="number">0</span>, len=heights.size();</span><br><span class="line">        <span class="keyword">while</span> (i&lt;len || !s.empty()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i&lt;len &amp;&amp; (s.empty()||heights[s.top()]&lt;=heights[i])) s.push(i++);</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">int</span> h = heights[s.top()]; s.pop();</span><br><span class="line">                <span class="keyword">int</span> l = s.empty() ? <span class="number">0</span> : s.top()+<span class="number">1</span>;</span><br><span class="line">                result = max(result, (i-l)*h);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="85-Maximal-Rectangle"><a href="#85-Maximal-Rectangle" class="headerlink" title="85. Maximal Rectangle"></a>85. Maximal Rectangle</h2><p>链接：<a href="https://leetcode.com/problems/maximal-rectangle/" target="_blank" rel="noopener">https://leetcode.com/problems/maximal-rectangle/</a><br>思路：接上一题，按行遍历，每行用数组f存储每列1的高度，然后计算最大直方图面积。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maximalRectangle</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix.empty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">int</span> ROW=matrix.size(), COL=matrix[<span class="number">0</span>].size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; f(COL, <span class="number">0</span>); <span class="keyword">int</span> j=<span class="number">0</span>, result=<span class="number">0</span>; <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;ROW; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (j=<span class="number">0</span>; j&lt;COL; ++j)</span><br><span class="line">                <span class="keyword">if</span> (matrix[i][j] == <span class="string">'1'</span>) f[j]++; <span class="keyword">else</span> f[j] = <span class="number">0</span>;</span><br><span class="line">            j = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (j&lt;COL || !s.empty()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j&lt;COL&amp;&amp;(s.empty() || f[s.top()]&lt;=f[j]))</span><br><span class="line">                    s.push(j++);</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">int</span> h = f[s.top()]; s.pop();</span><br><span class="line">                    <span class="keyword">int</span> l = s.empty() ? <span class="number">0</span> : s.top() + <span class="number">1</span>;</span><br><span class="line">                    result = max(result, h*(j-l));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="91-Decode-Ways"><a href="#91-Decode-Ways" class="headerlink" title="91. Decode Ways"></a>91. Decode Ways</h2><p>链接：<a href="https://leetcode.com/problems/decode-ways/" target="_blank" rel="noopener">https://leetcode.com/problems/decode-ways/</a><br>思路：f[i] = f[i-1] + f[i-2]，也可以写成c = b + a，只要s[i]不为0，b就可以和s[i]组合。而a则需要s[i-1]s[i]组成的数字小于26。</p>
<ul>
<li>使用a b b的形式，而不使用a b c的形式，可以避免判断返回b还是c。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numDecodings</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s.empty() || s[<span class="number">0</span>] == <span class="string">'0'</span>) <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">        <span class="keyword">int</span> a=<span class="number">1</span>, b=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> tmp = b;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">'0'</span>)                             b = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (s[i<span class="number">-1</span>]==<span class="string">'1'</span> || (s[i<span class="number">-1</span>]==<span class="string">'2'</span>&amp;&amp;s[i]&lt;=<span class="string">'6'</span>)) b += a;</span><br><span class="line">            a = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="93-Restore-IP-Addresses"><a href="#93-Restore-IP-Addresses" class="headerlink" title="93. Restore IP Addresses"></a>93. Restore IP Addresses</h2><p>链接：<a href="https://leetcode.com/problems/restore-ip-addresses/" target="_blank" rel="noopener">https://leetcode.com/problems/restore-ip-addresses/</a><br>思路：深搜，具体看代码。需要注意 1.每个component必须小于255 2.component连续两次出现0则无效 3.剪枝：当剩余的字符数比剩余的component最大可能长度还多则无效，可以防止非常长的字符串导致搜索变慢的情况。 </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; restoreIpAddresses(<span class="built_in">string</span>&amp; s) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; result, ip;</span><br><span class="line">        DFS(s, ip, <span class="number">0</span>, result);</span><br><span class="line">        <span class="keyword">return</span> move(result);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="built_in">string</span>&amp; s, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; ip, <span class="keyword">int</span> l, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; result)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num=<span class="number">0</span>, h=l, len=s.length();</span><br><span class="line">        <span class="keyword">if</span> (l==len || (len-l)&gt;(<span class="number">4</span>-ip.size())*<span class="number">3</span>) <span class="keyword">return</span> ;</span><br><span class="line">        <span class="keyword">if</span> (ip.size() == <span class="number">3</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (h&lt;len) &#123; num = num*<span class="number">10</span> + s[h++] - <span class="string">'0'</span>; <span class="keyword">if</span> (num == <span class="number">0</span>) <span class="keyword">break</span>; &#125;</span><br><span class="line">            <span class="keyword">if</span> (h!=len || num&gt;<span class="number">255</span>) <span class="keyword">return</span> ;</span><br><span class="line">            <span class="built_in">string</span> ss; <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">3</span>; i++) ss.append(ip[i]).push_back(<span class="string">'.'</span>); ss.append(s.substr(l));</span><br><span class="line">            result.push_back(move(ss));</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (h &lt; len) &#123;</span><br><span class="line">            num = num * <span class="number">10</span> + s[h] - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">if</span> (num &gt; <span class="number">255</span>) <span class="keyword">return</span> ;</span><br><span class="line">            ip.push_back(s.substr(l, h-l+<span class="number">1</span>)); DFS(s, ip, h+<span class="number">1</span>, result); ip.pop_back();</span><br><span class="line">            <span class="keyword">if</span> (num == <span class="number">0</span>) <span class="keyword">return</span> ;</span><br><span class="line">            h++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="97-Interleaving-String"><a href="#97-Interleaving-String" class="headerlink" title="97. Interleaving String"></a>97. Interleaving String</h2><p>链接：<br>思路：动态规划，f[i][j]表示s1[i,len1]和s2[j,len2]能否interleave字符串s3[i+j,len3]。所以，f[i][j] = (f[i+1][j]&amp;&amp;s1[i]==s3[i+j]) || (f[i][j+1]&amp;&amp;s2[j]==s3[i+j])。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isInterleave</span><span class="params">(<span class="built_in">string</span>&amp; s1, <span class="built_in">string</span>&amp; s2, <span class="built_in">string</span>&amp; s3)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">size_t</span> len1=s1.length(), len2=s2.length(), len3=s3.length();</span><br><span class="line">        <span class="keyword">if</span> (len1+len2 != len3) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; f(len1+<span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(len2+<span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">        f[len1][len2] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=len1; i&gt;=<span class="number">0</span>; --i) <span class="keyword">for</span> (<span class="keyword">int</span> j=len2; j&gt;=<span class="number">0</span>; --j) &#123;</span><br><span class="line">            <span class="keyword">int</span> k = i + j;</span><br><span class="line">            f[i][j] = (i&lt;len1&amp;&amp;s1[i]==s3[k]&amp;&amp;f[i+<span class="number">1</span>][j]) || (j&lt;len2&amp;&amp;s2[j]==s3[k]&amp;&amp;f[i][j+<span class="number">1</span>]) || f[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> f[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="98-Validate-Binary-Search-Tree"><a href="#98-Validate-Binary-Search-Tree" class="headerlink" title="98. Validate Binary Search Tree"></a>98. Validate Binary Search Tree</h2><p>链接：<br>思路：需要每个节点满足 L &lt; P &lt; R，同时要注意R子树中的最小节点需要比P大，L子树中的最大节点需要比P小。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isValidBST</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">int</span> min = INT_MAX, max = INT_MIN;</span><br><span class="line">        <span class="keyword">return</span> DFS(root, min, max);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">DFS</span><span class="params">(TreeNode *node, <span class="keyword">int</span>&amp; min, <span class="keyword">int</span>&amp; max)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> lmax=INT_MIN, lmin=INT_MAX, rmax=INT_MIN, rmin=INT_MAX; <span class="keyword">bool</span> result;</span><br><span class="line">        <span class="keyword">if</span> (node-&gt;left) &#123;</span><br><span class="line">            result = node-&gt;left-&gt;val &lt; node-&gt;val &amp;&amp; DFS(node-&gt;left, lmin, lmax);</span><br><span class="line">            <span class="keyword">if</span> (!result || lmax &gt;= node-&gt;val) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node-&gt;right) &#123;</span><br><span class="line">            result = node-&gt;right-&gt;val &gt; node-&gt;val &amp;&amp; DFS(node-&gt;right, rmin, rmax);</span><br><span class="line">            <span class="keyword">if</span> (!result || rmin &lt;= node-&gt;val) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        max = <span class="built_in">std</span>::max(node-&gt;val, rmax); </span><br><span class="line">        min = <span class="built_in">std</span>::min(node-&gt;val, lmin);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="124-Binary-Tree-Maximum-Path-Sum"><a href="#124-Binary-Tree-Maximum-Path-Sum" class="headerlink" title="124. Binary Tree Maximum Path Sum"></a>124. Binary Tree Maximum Path Sum</h2><p>链接：<br>思路：类似于maxSubarry的思路，maxsum可能出现在L或R中，还需要记录L和R中到P的和，如果为正则加入sum中，如果小于或等于0则丢弃，返回左右子树中较大且非0的那个加当前P加和。<br>1 比较L中的maxsum R中的maxsum 和 L-P-R加和 最大的那个值作为当前的maxsum<br>2 返回 L-P R-P P中最大的那个作为子树的延续子和</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxPathSum</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> maxsum = INT_MIN;</span><br><span class="line">        DFS(root, maxsum);</span><br><span class="line">        <span class="keyword">return</span> maxsum;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">DFS</span><span class="params">(TreeNode *root, <span class="keyword">int</span>&amp; maxsum)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> l = DFS(root-&gt;left,  maxsum);</span><br><span class="line">        <span class="keyword">int</span> r = DFS(root-&gt;right, maxsum);</span><br><span class="line">        <span class="keyword">int</span> sum = root-&gt;val;</span><br><span class="line">        <span class="keyword">if</span> (l&gt;<span class="number">0</span>) sum += l;</span><br><span class="line">        <span class="keyword">if</span> (r&gt;<span class="number">0</span>) sum += r;</span><br><span class="line">        maxsum = max(sum, maxsum);</span><br><span class="line">        <span class="keyword">return</span> max(l, r) &gt; <span class="number">0</span> ? max(l,r)+root-&gt;val : root-&gt;val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="126-Word-Ladder-II"><a href="#126-Word-Ladder-II" class="headerlink" title="126. Word Ladder II"></a>126. Word Ladder II</h2><p>思路：<br>广搜，类似于拓扑查找。<br>1 将start压入curr<br>2 遍历curr中的单词word<br>  3 遍历word中的字母c<br>    4 修改c从’a’到’z’，去除c自身，生成newword<br>       5 如果newword在dict中且不在visited中，则加入next中，并且parent[newword] = word。<br>       6 如果newword等于end，则找到最短路径，标记found在本轮查找完成后跳出搜索。<br>    7 把curr中的word全部放入到visited中。然后，next值赋给curr，next自身置空。<br>回溯，parent记录了前驱节点，递归回溯，使用path记录中间结果。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; findLadders(<span class="built_in">string</span> &amp;start, <span class="built_in">string</span> &amp;end, <span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt; &amp;dict) &#123;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; parent;</span><br><span class="line">        <span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt; curr, next, visited;</span><br><span class="line">        <span class="keyword">int</span> len = start.length(); <span class="keyword">bool</span> found = <span class="literal">false</span>;</span><br><span class="line">        </span><br><span class="line">        curr.insert(start); visited.insert(start);</span><br><span class="line">        <span class="keyword">while</span> (!curr.empty()) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; word : curr) &#123;</span><br><span class="line">                <span class="built_in">string</span> w = word;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++) <span class="keyword">for</span> (<span class="keyword">char</span> ch=<span class="string">'a'</span>; ch&lt;=<span class="string">'z'</span>; ch++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (ch == w[i]) <span class="keyword">continue</span>;</span><br><span class="line">                    swap(w[i], ch);</span><br><span class="line">                    <span class="keyword">if</span> (dict.find(w)!=dict.end() &amp;&amp; visited.find(w)==visited.end()) &#123;</span><br><span class="line">                        next.insert(w);</span><br><span class="line">                        parent[w].push_back(word);</span><br><span class="line">                        <span class="keyword">if</span> (w == end) found = <span class="literal">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    swap(w[i], ch);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (found) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; word : next) visited.insert(word);</span><br><span class="line">            curr.clear(); swap(curr, next);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; result; <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; path;</span><br><span class="line">        genPath(start, end, parent, path, result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">genPath</span><span class="params">(<span class="built_in">string</span>&amp; target, <span class="built_in">string</span>&amp; word, <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; &amp;parent, </span></span></span><br><span class="line"><span class="function"><span class="params">                 <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp;path, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; &amp;result)</span> </span>&#123;</span><br><span class="line">        path.push_back(word);</span><br><span class="line">        <span class="keyword">if</span> (word == target) &#123;</span><br><span class="line">            result.push_back(path);</span><br><span class="line">            reverse(result.back().begin(), result.back().end());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; w : parent[word]) genPath(target, w, parent, path, result);</span><br><span class="line">        path.pop_back();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="132-Palindrome-Partitioning-II"><a href="#132-Palindrome-Partitioning-II" class="headerlink" title="132. Palindrome Partitioning II"></a>132. Palindrome Partitioning II</h2><p>思路：f[i][j]表示s[i,j]是否是回文子串。cut[i]表示s[0,i]的最小分割数。初始时，cut[i] = i。如果f[i][j]是回文，则cut[j] = cut[i-1]+1。如果f[0][j]是回文，则cut[j]=0。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minCut</span><span class="params">(<span class="built_in">string</span>&amp; s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">int</span> len = s.length(); </span><br><span class="line">        <span class="keyword">int</span> cut[len]; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; f(len, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++) cut[i] = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> h=<span class="number">0</span>; h&lt;len; h++) <span class="keyword">for</span> (<span class="keyword">int</span> l=<span class="number">0</span>; l&lt;=h; l++) &#123;</span><br><span class="line">            f[l] = s[l]==s[h] &amp;&amp; (h-l&lt;<span class="number">2</span> || f[l+<span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">if</span> (f[l]) cut[h] = l==<span class="number">0</span> ? <span class="number">0</span> : min(cut[h], cut[l<span class="number">-1</span>]+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cut[len<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minCut</span><span class="params">(<span class="built_in">string</span>&amp; s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">int</span> len=s.length();</span><br><span class="line">        <span class="keyword">int</span> cut[len]; <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; f(len, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(len, <span class="number">0</span>));</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> h=<span class="number">0</span>; h&lt;len; h++) <span class="keyword">for</span> (<span class="keyword">int</span> l=<span class="number">0</span>; l&lt;=h; l++) &#123;</span><br><span class="line">            f[l][h] = s[l]==s[h] &amp;&amp; (h-l&lt;<span class="number">2</span> || f[l+<span class="number">1</span>][h<span class="number">-1</span>]);</span><br><span class="line">            <span class="keyword">if</span>      (l==<span class="number">0</span> &amp;&amp; f[l][h]) cut[h] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (l==<span class="number">0</span>)            cut[h] = h;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (f[l][h])         cut[h] = min(cut[h], cut[l<span class="number">-1</span>]+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cut[len<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="139-Word-Break"><a href="#139-Word-Break" class="headerlink" title="139. Word Break"></a>139. Word Break</h2><p>链接：<br>思路：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">wordBreak</span><span class="params">(<span class="built_in">string</span> &amp;s, <span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt;&amp; dict)</span> </span>&#123;</span><br><span class="line">        TrieNode root, *node;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; word : dict) &#123;</span><br><span class="line">            node = &amp;root;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> c : word) &#123;</span><br><span class="line">                <span class="keyword">char</span> i = c - <span class="string">'a'</span>;</span><br><span class="line">                <span class="keyword">if</span> (node-&gt;next[i] == <span class="literal">nullptr</span>) node-&gt;next[i] = <span class="keyword">new</span> TrieNode;</span><br><span class="line">                node = node-&gt;next[i];</span><br><span class="line">            &#125;</span><br><span class="line">            node-&gt;flag = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> len = s.length(); <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; prev(len, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> l=<span class="number">0</span>; l&lt;len; l++) &#123;</span><br><span class="line">            node = &amp;root;</span><br><span class="line">            <span class="keyword">if</span> (l==<span class="number">0</span> || !prev[l<span class="number">-1</span>].empty()) <span class="keyword">for</span> (<span class="keyword">int</span> h=l; h&lt;len; h++) &#123;</span><br><span class="line">                <span class="keyword">char</span> i = s[h] - <span class="string">'a'</span>;</span><br><span class="line">                <span class="keyword">if</span> (node-&gt;next[i] == <span class="literal">nullptr</span>) <span class="keyword">break</span>;</span><br><span class="line">                node = node-&gt;next[i];</span><br><span class="line">                <span class="keyword">if</span> (node-&gt;flag == <span class="number">1</span>) &#123;</span><br><span class="line">                    prev[h].push_back(l);</span><br><span class="line">                    <span class="keyword">if</span> (h==len<span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">TrieNode</span> &#123;</span></span><br><span class="line">        <span class="keyword">int</span> flag; TrieNode* next[<span class="number">26</span>];</span><br><span class="line">        TrieNode() &#123; flag = <span class="number">0</span>; fill_n(next, <span class="number">26</span>, <span class="literal">nullptr</span>); &#125;</span><br><span class="line">        ~TrieNode() &#123; <span class="keyword">for</span>(<span class="keyword">auto</span> node : next) <span class="keyword">if</span> (node) <span class="keyword">delete</span> node; &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="140-Word-Break-II"><a href="#140-Word-Break-II" class="headerlink" title="140. Word Break II"></a>140. Word Break II</h2><p>前缀树 + 构建前向数组prev 58%</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; wordBreak(<span class="built_in">string</span> &amp;s, <span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt;&amp; dict) &#123;</span><br><span class="line">        TrieNode root, *node;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;word : dict) &#123;</span><br><span class="line">            node = &amp;root;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> c=word.rbegin(); c!=word.rend(); c++) &#123;</span><br><span class="line">                <span class="keyword">int</span> i = *c - <span class="string">'a'</span>;</span><br><span class="line">                <span class="keyword">if</span> (node-&gt;next[i] == <span class="literal">nullptr</span>) node-&gt;next[i] = <span class="keyword">new</span> TrieNode();</span><br><span class="line">                node = node-&gt;next[i];</span><br><span class="line">            &#125;</span><br><span class="line">            node-&gt;flag = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> len = s.length(); <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; next(len, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> h=len<span class="number">-1</span>; h&gt;=<span class="number">0</span>; h--) &#123;</span><br><span class="line">            node = &amp;root;</span><br><span class="line">            <span class="keyword">if</span> (h==len<span class="number">-1</span> || !next[h+<span class="number">1</span>].empty()) <span class="keyword">for</span> (<span class="keyword">int</span> l=h; l&gt;=<span class="number">0</span>; l--) &#123;</span><br><span class="line">                <span class="keyword">int</span> i = s[l] - <span class="string">'a'</span>;</span><br><span class="line">                <span class="keyword">if</span> (node-&gt;next[i] == <span class="literal">nullptr</span>) <span class="keyword">break</span>;</span><br><span class="line">                node = node-&gt;next[i];</span><br><span class="line">                <span class="keyword">if</span> (node-&gt;flag == <span class="number">1</span>) next[l].push_back(h);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; result; <span class="built_in">string</span> path;</span><br><span class="line">        buildSentences(s, next, <span class="number">0</span>, path, result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">buildSentences</span><span class="params">(<span class="built_in">string</span> &amp;s, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; next, <span class="keyword">int</span> l, <span class="built_in">string</span>&amp; path, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; result)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l == s.length()) &#123; path.pop_back(); result.push_back(move(path)); <span class="keyword">return</span> ; &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> h : next[l]) &#123;</span><br><span class="line">            <span class="built_in">string</span> newp = path; newp.append(s.substr(l,h-l+<span class="number">1</span>)); newp.push_back(<span class="string">' '</span>);</span><br><span class="line">            buildSentences(s, next, h+<span class="number">1</span>, newp, result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">TrieNode</span> &#123;</span></span><br><span class="line">        <span class="keyword">int</span> flag; TrieNode *next[<span class="number">26</span>];</span><br><span class="line">        TrieNode() &#123; flag = <span class="number">0</span>; fill_n(next, <span class="number">26</span>, <span class="literal">nullptr</span>); &#125;</span><br><span class="line">        ~TrieNode() &#123; <span class="keyword">for</span> (<span class="keyword">auto</span> p : next) <span class="keyword">if</span> (p) <span class="keyword">delete</span> p; &#125; </span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>后缀Trie树 + 反向构建next数组 75.56%, 跟第一个一样。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; wordBreak(<span class="built_in">string</span> &amp;s, <span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt;&amp; dict) &#123;</span><br><span class="line">        TrieNode root, *node;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;word : dict) &#123;</span><br><span class="line">            node = &amp;root;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> c=word.rbegin(); c!=word.rend(); c++) &#123;</span><br><span class="line">                <span class="keyword">int</span> i = *c - <span class="string">'a'</span>;</span><br><span class="line">                <span class="keyword">if</span> (node-&gt;next[i] == <span class="literal">nullptr</span>) node-&gt;next[i] = <span class="keyword">new</span> TrieNode();</span><br><span class="line">                node = node-&gt;next[i];</span><br><span class="line">            &#125;</span><br><span class="line">            node-&gt;flag = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> len = s.length(); <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; next(len, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> h=len<span class="number">-1</span>; h&gt;=<span class="number">0</span>; h--) &#123;</span><br><span class="line">            node = &amp;root;</span><br><span class="line">            <span class="keyword">if</span> (h==len<span class="number">-1</span> || !next[h+<span class="number">1</span>].empty()) <span class="keyword">for</span> (<span class="keyword">int</span> l=h; l&gt;=<span class="number">0</span>; l--) &#123;</span><br><span class="line">                <span class="keyword">int</span> i = s[l] - <span class="string">'a'</span>;</span><br><span class="line">                <span class="keyword">if</span> (node-&gt;next[i] == <span class="literal">nullptr</span>) <span class="keyword">break</span>;</span><br><span class="line">                node = node-&gt;next[i];</span><br><span class="line">                <span class="keyword">if</span> (node-&gt;flag == <span class="number">1</span>) next[l].push_back(h);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; result; <span class="built_in">string</span> path;</span><br><span class="line">        buildSentences(s, next, <span class="number">0</span>, path, result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">buildSentences</span><span class="params">(<span class="built_in">string</span> &amp;s, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; next, <span class="keyword">int</span> l, <span class="built_in">string</span>&amp; path, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; result)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l == s.length()) &#123; path.pop_back(); result.push_back(move(path)); <span class="keyword">return</span> ; &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> h : next[l]) &#123;</span><br><span class="line">            <span class="built_in">string</span> newp = path; newp.append(s.substr(l,h-l+<span class="number">1</span>)); newp.push_back(<span class="string">' '</span>);</span><br><span class="line">            buildSentences(s, next, h+<span class="number">1</span>, newp, result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">TrieNode</span> &#123;</span></span><br><span class="line">        <span class="keyword">int</span> flag; TrieNode *next[<span class="number">26</span>];</span><br><span class="line">        TrieNode() &#123; flag = <span class="number">0</span>; fill_n(next, <span class="number">26</span>, <span class="literal">nullptr</span>); &#125;</span><br><span class="line">        ~TrieNode() &#123; <span class="keyword">for</span> (<span class="keyword">auto</span> p : next) <span class="keyword">if</span> (p) <span class="keyword">delete</span> p; &#125; </span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="143-Reorder-List"><a href="#143-Reorder-List" class="headerlink" title="143. Reorder List"></a>143. Reorder List</h2><p>先计算链表长度len，然后从中间断开，将链表后半部分反转，依次合并两个链表。<br>1 链表元素如果是奇数个，保证前半部分比后半部分多1.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">reorderList</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// len.</span></span><br><span class="line">        <span class="keyword">int</span> len=<span class="number">0</span>; ListNode *p1=head, *p2=head;</span><br><span class="line">        <span class="keyword">while</span> (p1 != <span class="literal">nullptr</span>) &#123; p1 = p1-&gt;next; len++; &#125;</span><br><span class="line">        <span class="keyword">if</span> (len &lt;= <span class="number">2</span>) <span class="keyword">return</span> ;</span><br><span class="line">        <span class="comment">// spilt.</span></span><br><span class="line">        <span class="keyword">int</span> mid = (len+<span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">        p1 = head;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;mid<span class="number">-1</span>; i++) p1 = p1-&gt;next;</span><br><span class="line">        p2 = p1-&gt;next; p1-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="comment">// reverse.</span></span><br><span class="line">        <span class="keyword">if</span> (len-mid &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            p1 = p2; p2 = p1-&gt;next; p1-&gt;next = <span class="literal">nullptr</span>; ListNode *p3 = p2-&gt;next;</span><br><span class="line">            <span class="keyword">while</span> (p3 != <span class="literal">nullptr</span>) &#123; p2-&gt;next = p1; p1 = p2; p2 = p3; p3 = p3-&gt;next; &#125;</span><br><span class="line">            p2-&gt;next = p1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// merge.</span></span><br><span class="line">        p1 = head;</span><br><span class="line">        ListNode dummy(0), *p = &amp;dummy; p-&gt;next = nullptr;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len-mid; ++i) &#123; </span><br><span class="line">            p-&gt;next = p1; p1 = p1-&gt;next; p = p-&gt;next; </span><br><span class="line">            p-&gt;next = p2; p2 = p2-&gt;next; p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        p-&gt;next = p1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="144-Binary-Tree-Preorder-Traversal"><a href="#144-Binary-Tree-Preorder-Traversal" class="headerlink" title="144. Binary Tree Preorder Traversal"></a>144. Binary Tree Preorder Traversal</h2><p>链接：<a href="https://leetcode.com/problems/binary-tree-preorder-traversal/" target="_blank" rel="noopener">https://leetcode.com/problems/binary-tree-preorder-traversal/</a><br>使用栈：<br>1 依次访问L<br>2 L为空时，弹出P，访问相应的R<br>3 R为空时，弹出P</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; preorderTraversal(TreeNode* root) &#123;</span><br><span class="line">        <span class="built_in">stack</span>&lt;TreeNode *&gt; s; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; r; TreeNode *p = root;</span><br><span class="line">        <span class="keyword">while</span> (!s.empty() || p != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (p) &#123;</span><br><span class="line">                r.push_back(p-&gt;val);</span><br><span class="line">                s.push(p);</span><br><span class="line">                p = p-&gt;left;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                p = s.top(); p = p-&gt;right;</span><br><span class="line">                s.pop();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="146-LRU-Cache"><a href="#146-LRU-Cache" class="headerlink" title="146. LRU Cache"></a>146. LRU Cache</h2><p>链表存储KV数据，unordered_map存储K-&gt;list<node>::iterator，get时从cacheMap中查找并将cacheLst中的元素提前。set时，如果找到，直接更新元素并提前。如果没找到，则先处理缓存满的情况，在压入一个新元素。</node></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    LRUCache(<span class="keyword">int</span> capacity) &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;capacity = capacity;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">auto</span> it = cacheMap.find(key);</span><br><span class="line">        <span class="keyword">if</span> (it == cacheMap.end()) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        cacheLst.splice(cacheLst.begin(), cacheLst, it-&gt;second);</span><br><span class="line">        <span class="keyword">return</span> it-&gt;second-&gt;val;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">auto</span> it = cacheMap.find(key);</span><br><span class="line">        <span class="keyword">if</span> (it == cacheMap.end()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cacheLst.size() &gt;= capacity) &#123;</span><br><span class="line">                cacheMap.erase(cacheLst.back().key);</span><br><span class="line">                cacheLst.pop_back();</span><br><span class="line">            &#125;</span><br><span class="line">            cacheLst.push_front(Node(key, val));</span><br><span class="line">            cacheMap.insert(&#123;key, cacheLst.begin()&#125;);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            it-&gt;second-&gt;val = val;</span><br><span class="line">            cacheLst.splice(cacheLst.begin(), cacheLst, it-&gt;second);</span><br><span class="line">            cacheMap[key] = cacheLst.begin();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">        <span class="keyword">int</span> key, val;</span><br><span class="line">        Node(<span class="keyword">int</span> k, <span class="keyword">int</span> v) : key(k), val(v) &#123;&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">list</span>&lt;Node&gt; cacheLst;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="built_in">list</span>&lt;Node&gt;::iterator&gt; cacheMap;</span><br><span class="line">    <span class="keyword">int</span> capacity;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="149-Max-Points-on-a-Line"><a href="#149-Max-Points-on-a-Line" class="headerlink" title="149. Max Points on a Line"></a>149. Max Points on a Line</h2><p>map存储slope-&gt;count，枚举j，计算与点i的斜率，找到与点i在同一个斜率上的最多的点数。<br>1 注意处理在同一条竖线上，和是同一个点的情况</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxPoints</span><span class="params">(<span class="built_in">vector</span>&lt;Point&gt;&amp; points)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (points.size() &lt;= <span class="number">2</span>) <span class="keyword">return</span> points.size();</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">double</span>, <span class="keyword">int</span>&gt; slopes; <span class="keyword">int</span> len = points.size();</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len<span class="number">-1</span>; i++) &#123;</span><br><span class="line">            slopes.clear(); <span class="keyword">int</span> samept = <span class="number">0</span>, maxpt = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=i+<span class="number">1</span>; j&lt;len; j++) &#123;</span><br><span class="line">                <span class="keyword">double</span> slope = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">if</span> (points[i].x != points[j].x) </span><br><span class="line">                    slope = (points[i].y-points[j].y)*<span class="number">1.0</span>/(points[i].x-points[j].x);</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (points[i].y != points[j].y) </span><br><span class="line">                    slope = <span class="built_in">std</span>::numeric_limits&lt;<span class="keyword">double</span>&gt;::infinity();</span><br><span class="line">                <span class="keyword">else</span> &#123; </span><br><span class="line">                    samept++; <span class="keyword">continue</span>; </span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> count = slopes[slope]; </span><br><span class="line">                count = count==<span class="number">0</span> ? <span class="number">2</span> : count+<span class="number">1</span>; </span><br><span class="line">                slopes[slope] = count;</span><br><span class="line">                <span class="keyword">if</span> (count &gt; maxpt) maxpt = count;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (result &lt; maxpt+samept) result = maxpt+samept;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="151-Reverse-Words-in-a-String"><a href="#151-Reverse-Words-in-a-String" class="headerlink" title="151  Reverse Words in a String"></a>151  Reverse Words in a String</h2><p>Insert a space as a guard after string. when char is change from space to nonspace, update l to r and push cur to s[r]. when char is chage from non-space to spcae revsers the last word s[l, r] and push a space to s[r]. At first need to assume the pre is space. And update pre evertime.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">reverseWords</span><span class="params">(<span class="built_in">string</span> &amp;s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s.length() == <span class="number">0</span>) <span class="keyword">return</span> ;</span><br><span class="line">        s.push_back(<span class="string">' '</span>);</span><br><span class="line">        <span class="keyword">int</span> l=<span class="number">0</span>, r=<span class="number">0</span>; <span class="keyword">char</span> pre = <span class="string">' '</span>; <span class="keyword">char</span> cur;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;s.length(); i++) &#123;</span><br><span class="line">            cur = s[i];</span><br><span class="line">            <span class="keyword">if</span> (cur != <span class="string">' '</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (pre == <span class="string">' '</span>) l = r;</span><br><span class="line">                s[r++] = cur;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (pre != <span class="string">' '</span>) &#123;</span><br><span class="line">                reverse(s.begin()+l, s.begin()+r);</span><br><span class="line">                s[r++] = <span class="string">' '</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            pre = cur;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (r &gt;= <span class="number">1</span>) r--;</span><br><span class="line">        s.erase(r, s.length()-r);</span><br><span class="line">        reverse(s.begin(), s.end());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="130-Surrounded-Regions"><a href="#130-Surrounded-Regions" class="headerlink" title="130. Surrounded Regions"></a>130. Surrounded Regions</h2><p>BFS the board form outter to inner. And mark every O as . cause it was reachable. We need to check all the points in the edge of the board. After that access every elements in the board and change O to X, change . to O。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (board.size() &lt;= <span class="number">0</span>) <span class="keyword">return</span> ;</span><br><span class="line">        <span class="keyword">int</span> h = board.size(); <span class="keyword">int</span> w = board[<span class="number">0</span>].size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;w; i++) &#123; BFS(board, <span class="number">0</span>, i); BFS(board, h<span class="number">-1</span>, i  ); &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;h; i++) &#123; BFS(board, i, <span class="number">0</span>); BFS(board, i  , w<span class="number">-1</span>); &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;h; i++) <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;w; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>      (board[i][j] == <span class="string">'O'</span>) board[i][j] = <span class="string">'X'</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (board[i][j] == <span class="string">'.'</span>) board[i][j] = <span class="string">'O'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt; &amp;board, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; q;</span><br><span class="line">        q.push(&#123;i, j&#125;);</span><br><span class="line">        <span class="keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">            <span class="keyword">auto</span> cur = q.front(); q.pop();</span><br><span class="line">            <span class="keyword">int</span> i = cur.first, j = cur.second;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] == <span class="string">'O'</span>) board[i][j] = <span class="string">'.'</span>; <span class="keyword">else</span> <span class="keyword">continue</span> ;</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= <span class="number">1</span>)                q.push(&#123;i<span class="number">-1</span>, j&#125;);</span><br><span class="line">            <span class="keyword">if</span> (j &gt;= <span class="number">1</span>)                q.push(&#123;i, j<span class="number">-1</span>&#125;);</span><br><span class="line">            <span class="keyword">if</span> (i+<span class="number">1</span> &lt; board.size())    q.push(&#123;i+<span class="number">1</span>, j&#125;);</span><br><span class="line">            <span class="keyword">if</span> (j+<span class="number">1</span> &lt; board[<span class="number">0</span>].size()) q.push(&#123;i, j+<span class="number">1</span>&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="152-Maximum-Product-Subarray"><a href="#152-Maximum-Product-Subarray" class="headerlink" title="152. Maximum Product Subarray"></a>152. Maximum Product Subarray</h2><p>the product is decide by two parts of previous. The max positive product and the min negative product. and add a 1. Now the new product is the max of mpp mnp 1 to current num.<br>1 After every multiply, keep a &gt; b. And the a b could be both postvie, if so make the b to 1. the a b could be both negtive if so make the a to 1.<br>2 if current n is 0. make a to 1 and b to 1, and the result should compare to 0 because it may be is negative.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxProduct</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">1</span>, b = <span class="number">1</span>, result = INT_MIN;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> n : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (n != <span class="number">0</span>) &#123;</span><br><span class="line">                a *= n; b *= n; <span class="keyword">if</span> (a&lt;b) swap(a, b);</span><br><span class="line">                result = max(a, result);</span><br><span class="line">                <span class="keyword">if</span> (a&lt;<span class="number">0</span>) a = <span class="number">1</span>; <span class="keyword">if</span> (b&gt;<span class="number">0</span>) b = <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                a = <span class="number">1</span>; b = <span class="number">1</span>; result = max(result, <span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxProduct</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> mx = <span class="number">1</span>, mn = <span class="number">1</span>, result = INT_MIN;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> n : nums) &#123;</span><br><span class="line">            <span class="keyword">int</span> a = mx, b = mn;</span><br><span class="line">            mx = max(max(a*n, b*n), n);</span><br><span class="line">            mn = min(min(a*n, b*n), n);</span><br><span class="line">            result = max(mx, result);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="155-Min-Stack"><a href="#155-Min-Stack" class="headerlink" title="155. Min Stack"></a>155. Min Stack</h2><p>For 5 1000 4 1000 3 1000 2 1000 1. keep 5 4 2 1 is ms. And update each time when push and pop.<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MinStack</span> &#123;</span></span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s, ms;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    MinStack() &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        s.push(x);</span><br><span class="line">        <span class="keyword">if</span> (ms.empty() || x &lt;= ms.top()) ms.push(x);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s.top() == ms.top()) ms.pop();</span><br><span class="line">        s.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> s.top();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getMin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ms.top();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="189-Rotate-Array"><a href="#189-Rotate-Array" class="headerlink" title="189. Rotate Array"></a>189. Rotate Array</h2><p>链接：<br>思路：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">rotate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> p=<span class="number">0</span>, s=<span class="number">0</span>, len=nums.size(); </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++) &#123;</span><br><span class="line">            p = (p + k) % len;</span><br><span class="line">            swap(nums[s], nums[p]);</span><br><span class="line">            <span class="keyword">if</span> (p == s) p = ++s;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">rotate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = nums.size(); k = k % len;</span><br><span class="line">        reverse(nums.begin(), nums.end()-k);</span><br><span class="line">        reverse(nums.end()-k, nums.end());</span><br><span class="line">        reverse(nums.begin(), nums.end());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">rotate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = nums.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp(len, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>, j=k%len; i&lt;len; i++, j=(i+k)%len) tmp[j] = nums[i];</span><br><span class="line">        nums.swap(tmp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="212-Word-Search-II"><a href="#212-Word-Search-II" class="headerlink" title="212. Word Search II"></a>212. Word Search II</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">TrieNode</span> &#123;</span></span><br><span class="line">        <span class="keyword">char</span> flag; TrieNode* next[<span class="number">26</span>];</span><br><span class="line">        TrieNode() &#123; flag = <span class="number">0</span>; fill_n(next, <span class="number">26</span>, <span class="literal">nullptr</span>); &#125;</span><br><span class="line">        ~TrieNode() &#123; <span class="keyword">for</span> (<span class="keyword">auto</span> p : next) <span class="keyword">if</span> (p) <span class="keyword">delete</span> p; &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; findWords(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; words) &#123;</span><br><span class="line">        <span class="keyword">if</span> (board.empty()) <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">        TrieNode *root = buildTrie(words);</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; result; <span class="built_in">string</span> word;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x=<span class="number">0</span>; x&lt;board.size(); x++) <span class="keyword">for</span> (<span class="keyword">int</span> y=<span class="number">0</span>; y&lt;board[<span class="number">0</span>].size(); y++)</span><br><span class="line">            DFS(board, x, y, root, word, result);</span><br><span class="line">        <span class="keyword">delete</span> root;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board, <span class="keyword">int</span> x, <span class="keyword">int</span> y, TrieNode* node, </span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="built_in">string</span>&amp; word, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; result)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (board[x][y] == <span class="string">'*'</span>) <span class="keyword">return</span> ;</span><br><span class="line">        <span class="keyword">char</span> c = board[x][y]; <span class="keyword">char</span> index = c - <span class="string">'a'</span>;</span><br><span class="line">        node = node-&gt;next[index]; </span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">nullptr</span>) <span class="keyword">return</span> ;</span><br><span class="line">        board[x][y] = <span class="string">'*'</span>; word.push_back(c);</span><br><span class="line">        <span class="keyword">if</span> (node-&gt;flag == <span class="number">1</span>) &#123; result.push_back(word); node-&gt;flag = <span class="number">0</span>; &#125;;</span><br><span class="line">        <span class="keyword">if</span> (x<span class="number">-1</span> &gt;= <span class="number">0</span>)              DFS(board, x<span class="number">-1</span>, y,   node, word, result);</span><br><span class="line">        <span class="keyword">if</span> (x+<span class="number">1</span> &lt; board.size())    DFS(board, x+<span class="number">1</span>, y,   node, word, result);</span><br><span class="line">        <span class="keyword">if</span> (y<span class="number">-1</span> &gt;= <span class="number">0</span>)              DFS(board, x,   y<span class="number">-1</span>, node, word, result);</span><br><span class="line">        <span class="keyword">if</span> (y+<span class="number">1</span> &lt; board[<span class="number">0</span>].size()) DFS(board, x,   y+<span class="number">1</span>, node, word, result);</span><br><span class="line">        board[x][y] = c;   word.pop_back();</span><br><span class="line">        <span class="keyword">return</span> ; </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function">TrieNode *<span class="title">buildTrie</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; words)</span> </span>&#123;</span><br><span class="line">        TrieNode *root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; word : words) &#123;</span><br><span class="line">            TrieNode *node = root;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;word.size(); i++) &#123;</span><br><span class="line">                <span class="keyword">char</span> index = word[i] - <span class="string">'a'</span>;</span><br><span class="line">                <span class="keyword">if</span> (node-&gt;next[index] == <span class="literal">nullptr</span>) node-&gt;next[index] = <span class="keyword">new</span> TrieNode();</span><br><span class="line">                node = node-&gt;next[index];</span><br><span class="line">            &#125;</span><br><span class="line">            node-&gt;flag = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="218-The-Skyline-Problem"><a href="#218-The-Skyline-Problem" class="headerlink" title="218. The Skyline Problem"></a>218. The Skyline Problem</h2><p>链接：<a href="https://leetcode.com/problems/the-skyline-problem/" target="_blank" rel="noopener">https://leetcode.com/problems/the-skyline-problem/</a><br><img src="leanote://file/getImage?fileId=578dfd09ab644135ea017f5d" alt=""><br>x从左到右依次扫描关键点。中间可能遇到的情况有两种，第一种是图2，x线和多个RH组合成的图，此时来了一个新的LRH，如果L小于top().R，则L为关键点x，需要立刻处理并将RH加入到RHq中。第二种是图5，新的LRH与当前最的RHq.top()不相交，则top().R是关键点x，需要pop到有效的次小H。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; getSkyline(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; LRH) &#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">RH</span> &#123;</span> </span><br><span class="line">            <span class="keyword">int</span> R, H;</span><br><span class="line">            <span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(RH&amp; l, RH&amp; r)</span> </span>&#123; <span class="keyword">return</span> l.H &lt; r.H; &#125; <span class="comment">// lessthan</span></span><br><span class="line">            RH() &#123;&#125;;</span><br><span class="line">            RH(<span class="keyword">int</span> r, <span class="keyword">int</span> h) : R(r), H(h) &#123;&#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        priority_queue&lt;RH, <span class="built_in">vector</span>&lt;RH&gt;, RH&gt; RHq;</span><br><span class="line">        <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; result; <span class="keyword">int</span> len = LRH.size();</span><br><span class="line">        <span class="keyword">int</span> x, y, i=<span class="number">0</span>, Li=<span class="number">0</span>, Ri=<span class="number">1</span>, Hi=<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">while</span> (i&lt;len || !RHq.empty()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (RHq.empty() || i&lt;len &amp;&amp; LRH[i][Li]&lt;=RHq.top().R) &#123;</span><br><span class="line">                x = LRH[i][Li]; </span><br><span class="line">                <span class="keyword">while</span> (i&lt;len &amp;&amp; LRH[i][Li]==x) &#123; RHq.push(RH(LRH[i][Ri], LRH[i][Hi])); i++; &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                x = RHq.top().R;</span><br><span class="line">                <span class="keyword">while</span> (!RHq.empty() &amp;&amp; RHq.top().R&lt;=x) &#123; RHq.pop(); &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            y = RHq.empty() ? <span class="number">0</span> : RHq.top().H;</span><br><span class="line">            <span class="keyword">if</span> (result.empty() || result.back().second!=y) &#123;</span><br><span class="line">                result.push_back(&#123;x, y&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> move(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="233-Number-of-Digit-One"><a href="#233-Number-of-Digit-One" class="headerlink" title="233. Number of Digit One"></a>233. Number of Digit One</h2><p>存储tbl[9..9]对应的1数。abcd的1数分为三部分，a * tbl[1000-1] + a&gt;1?</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; tbl;</span><br><span class="line">    </span><br><span class="line">    Solution() &#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">9</span>; tbl[<span class="number">9</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (i*<span class="number">10</span>+<span class="number">9</span> &lt; INT_MAX) &#123; tbl[i*<span class="number">10</span>+<span class="number">9</span>] = tbl[i]*<span class="number">10</span> + i+<span class="number">1</span>; i = i*<span class="number">10</span> + <span class="number">9</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">countDigitOne</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>; <span class="keyword">if</span> (n &lt;= <span class="number">9</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> divisor = <span class="number">1</span>; <span class="keyword">while</span> (n/divisor &gt;= <span class="number">10</span>) divisor *= <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        result += n / divisor * tbl[divisor<span class="number">-1</span>];</span><br><span class="line">        result += n/divisor &gt; <span class="number">1</span> ? divisor : n-divisor+<span class="number">1</span>;</span><br><span class="line">        result += countDigitOne(n%divisor);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="295-Find-Median-from-Data-Stream"><a href="#295-Find-Median-from-Data-Stream" class="headerlink" title="295. Find Median from Data Stream"></a>295. Find Median from Data Stream</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MedianFinder</span> &#123;</span></span><br><span class="line">    priority_queue&lt;<span class="keyword">int</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, less&lt;<span class="keyword">int</span>&gt;&gt;    l;</span><br><span class="line">    priority_queue&lt;<span class="keyword">int</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, greater&lt;<span class="keyword">int</span>&gt;&gt; r;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// Adds a number into the data structure.</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addNum</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l.empty() || num&lt;=l.top()) l.push(num); <span class="keyword">else</span> r.push(num);</span><br><span class="line">        <span class="keyword">if</span>      (l.size() &gt; r.size()+<span class="number">1</span>) &#123; r.push(l.top()); l.pop(); &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (r.size() &gt; l.size())   &#123; l.push(r.top()); r.pop(); &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Returns the median of current data stream</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">findMedian</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> l.size()==r.size() ? <span class="keyword">double</span>(l.top()+r.top())/<span class="number">2</span> : l.top();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Your MedianFinder object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment">// MedianFinder mf;</span></span><br><span class="line"><span class="comment">// mf.addNum(1);</span></span><br><span class="line"><span class="comment">// mf.findMedian();</span></span><br></pre></td></tr></table></figure>
<h2 id="304-Range-Sum-Query-2D-Immutable"><a href="#304-Range-Sum-Query-2D-Immutable" class="headerlink" title="304. Range Sum Query 2D - Immutable"></a>304. Range Sum Query 2D - Immutable</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumMatrix</span> &#123;</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; summat;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    NumMatrix(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;matrix) &#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix.empty()) <span class="keyword">return</span> ;</span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">int</span> ROW = matrix.size(), COL = matrix[<span class="number">0</span>].size();</span><br><span class="line">        summat = <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;(ROW, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(COL, <span class="number">0</span>));</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;ROW; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> sumrow=<span class="number">0</span>; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; row = matrix[i];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;COL; j++) &#123;</span><br><span class="line">                sumrow += row[j];</span><br><span class="line">                summat[i][j] = sumrow + (i&gt;<span class="number">0</span> ? summat[i<span class="number">-1</span>][j] : <span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">sumRegion</span><span class="params">(<span class="keyword">int</span> row1, <span class="keyword">int</span> col1, <span class="keyword">int</span> row2, <span class="keyword">int</span> col2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (summat.empty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> a = summat[row2][col2];</span><br><span class="line">        <span class="keyword">int</span> b = col1&gt;<span class="number">0</span> ? summat[row2  ][col1<span class="number">-1</span>] : <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> c = row1&gt;<span class="number">0</span> ? summat[row1<span class="number">-1</span>][col2  ] : <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> d = row1&gt;<span class="number">0</span>&amp;&amp;col1&gt;<span class="number">0</span> ? summat[row1<span class="number">-1</span>][col1<span class="number">-1</span>] : <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a - b - c + d;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Your NumMatrix object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment">// NumMatrix numMatrix(matrix);</span></span><br><span class="line"><span class="comment">// numMatrix.sumRegion(0, 1, 2, 3);</span></span><br><span class="line"><span class="comment">// numMatrix.sumRegion(1, 2, 3, 4);</span></span><br></pre></td></tr></table></figure>
<h2 id="307-Range-Sum-Query-Mutable"><a href="#307-Range-Sum-Query-Mutable" class="headerlink" title="307. Range Sum Query - Mutable"></a>307. Range Sum Query - Mutable</h2><p>Reference：<br>Fenwick tree: <a href="https://en.wikipedia.org/wiki/Fenwick_tree" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Fenwick_tree</a><br>Fenwick tree @ topcoder: <a href="https://www.topcoder.com/community/data-science/data-science-tutorials/binary-indexed-trees/" target="_blank" rel="noopener">https://www.topcoder.com/community/data-science/data-science-tutorials/binary-indexed-trees/</a><br>Segment tree: <a href="https://en.wikipedia.org/wiki/Segment_tree" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Segment_tree</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumArray</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    NumArray(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;nums) &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;nums = nums; tree = nums; tree.insert(tree.begin(), <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=tree.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i) <span class="keyword">for</span> (<span class="keyword">int</span> j=i-(i&amp;-i)+<span class="number">1</span>; j&lt;i; j++) &#123;</span><br><span class="line">            tree[i] += tree[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> delta = val - nums[i]; nums[i] = val; i++;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; tree.size()) tree[i] += delta, i += i&amp;-i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">sumRange</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// result = tree[1,j+1] - tree[1,i+1] + nums[i]; </span></span><br><span class="line">        <span class="keyword">int</span> result = nums[i]; j++; i++;</span><br><span class="line">        <span class="keyword">while</span> (j &gt;= <span class="number">1</span>) result += tree[j], j -= j&amp;-j;</span><br><span class="line">        <span class="keyword">while</span> (i &gt;= <span class="number">1</span>) result -= tree[i], i -= i&amp;-i;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tree;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="321-Create-Maximum-Number"><a href="#321-Create-Maximum-Number" class="headerlink" title="321. Create Maximum Number"></a>321. Create Maximum Number</h2><p>超时<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; maxNumber(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2, <span class="keyword">int</span> k) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result(k, <span class="number">0</span>), path;</span><br><span class="line">        maxNumber(nums1, <span class="number">0</span>, nums2, <span class="number">0</span>, k, path, result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">maxNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="keyword">int</span> i1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2, <span class="keyword">int</span> i2, <span class="keyword">int</span> k, </span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; path, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; result)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (greaterThen(result, path)) <span class="keyword">return</span> ; </span><br><span class="line">        <span class="keyword">if</span> (path.size() == result.size()) &#123; result = path; <span class="keyword">return</span> ; &#125;</span><br><span class="line">        <span class="keyword">if</span> (k &gt; (<span class="keyword">int</span>)nums1.size() + (<span class="keyword">int</span>)nums2.size() - i1 - i2) <span class="keyword">return</span> ;</span><br><span class="line">        <span class="keyword">if</span> (i1 &lt;= (<span class="keyword">int</span>)nums1.size()<span class="number">-1</span>) &#123;</span><br><span class="line">            path.push_back(nums1[i1]);</span><br><span class="line">            maxNumber(nums1, i1+<span class="number">1</span>, nums2, i2  , k<span class="number">-1</span>, path, result);</span><br><span class="line">            path.pop_back();</span><br><span class="line">            maxNumber(nums1, i1+<span class="number">1</span>, nums2, i2  , k  , path, result);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i2 &lt;= (<span class="keyword">int</span>)nums2.size()<span class="number">-1</span>) &#123;</span><br><span class="line">            path.push_back(nums2[i2]);</span><br><span class="line">            maxNumber(nums1, i1  , nums2, i2+<span class="number">1</span>, k<span class="number">-1</span>, path, result);</span><br><span class="line">            path.pop_back();</span><br><span class="line">            maxNumber(nums1, i1  , nums2, i2+<span class="number">1</span>, k  , path, result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">greaterThen</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; a, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = min(a.size(), b.size());</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++) <span class="keyword">if</span> (a[i] != b[i]) <span class="keyword">return</span> a[i] &gt; b[i];</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>超时<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; maxNumber(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2, <span class="keyword">int</span> k) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">        maxNumber(nums1, <span class="number">0</span>, nums2, <span class="number">0</span>, k, result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">maxNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="keyword">int</span> i1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2, <span class="keyword">int</span> i2, </span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="keyword">int</span> k, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; result)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x1=i1, x2=i2, max1=INT_MIN, max2=INT_MIN, n1=nums1.size(), n2=nums2.size();</span><br><span class="line">        <span class="keyword">if</span> (n1-i1+n2-i2&lt;k || k==<span class="number">0</span>) <span class="keyword">return</span> ;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=i1; i&lt;n1&amp;&amp;n1-i+n2-i2&gt;=k; i++) </span><br><span class="line">            <span class="keyword">if</span> (nums1[i] &gt; max1) &#123; max1=nums1[i]; x1=i; &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=i2; i&lt;n2&amp;&amp;n1-i1+n2-i&gt;=k; i++) </span><br><span class="line">            <span class="keyword">if</span> (nums2[i] &gt; max2) &#123; max2=nums2[i]; x2=i; &#125;</span><br><span class="line">        <span class="keyword">if</span> (max1 &gt; max2) &#123; </span><br><span class="line">            result.push_back(max1); maxNumber(nums1, x1+<span class="number">1</span>, nums2, i2  , k<span class="number">-1</span>, result); </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (max1 &lt; max2) &#123; </span><br><span class="line">            result.push_back(max2); maxNumber(nums1, i1  , nums2, x2+<span class="number">1</span>, k<span class="number">-1</span>, result); </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (max1 == max2) &#123;</span><br><span class="line">            result.push_back(max1);</span><br><span class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result1, result2;</span><br><span class="line">            maxNumber(nums1, x1+<span class="number">1</span>, nums2, i2, k<span class="number">-1</span>, result1);</span><br><span class="line">            maxNumber(nums1, i1, nums2, x2+<span class="number">1</span>, k<span class="number">-1</span>, result2);</span><br><span class="line">            <span class="keyword">if</span> (greaterThen(result1, result2)) &#123;</span><br><span class="line">                result.insert(result.end()<span class="number">-1</span>, result1.begin(), result1.end());</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                result.insert(result.end()<span class="number">-1</span>, result2.begin(), result2.end());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">greaterThen</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; a, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = min(a.size(), b.size());</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++) <span class="keyword">if</span> (a[i] != b[i]) <span class="keyword">return</span> a[i] &gt; b[i];</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>通过<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; maxNumber(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2, <span class="keyword">int</span> k) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=k; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i  &gt;nums1.size()) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span> (k-i&gt;nums2.size()) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; s1 = maxSubarray(nums1, i), s2 = maxSubarray(nums2, k-i);</span><br><span class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; s  = mergeArray(s1, s2);</span><br><span class="line">            <span class="keyword">if</span> (greaterThen(s, <span class="number">0</span>, result, <span class="number">0</span>)) result.swap(s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; maxSubarray(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result; <span class="keyword">int</span> len=nums.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!result.empty()&amp;&amp;len-i&gt;k-result.size()&amp;&amp;result.back()&lt;nums[i]) </span><br><span class="line">                result.pop_back();</span><br><span class="line">            <span class="keyword">if</span> (result.size()&lt;k) result.push_back(nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> move(result);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; mergeArray(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">        <span class="keyword">int</span> i1=<span class="number">0</span>, i2=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i1&lt;nums1.size() &amp;&amp; i2&lt;nums2.size()) &#123;</span><br><span class="line">            <span class="keyword">if</span>   (greaterThen(nums1, i1, nums2, i2)) result.push_back(nums1[i1++]);</span><br><span class="line">            <span class="keyword">else</span>                                     result.push_back(nums2[i2++]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (i1&lt;nums1.size()) result.push_back(nums1[i1++]);</span><br><span class="line">        <span class="keyword">while</span> (i2&lt;nums2.size()) result.push_back(nums2[i2++]);</span><br><span class="line">        <span class="keyword">return</span> move(result);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">greaterThen</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="keyword">int</span> i1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2, <span class="keyword">int</span> i2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = min(nums1.size()-i1, nums2.size()-i2);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++) <span class="keyword">if</span> (nums1[i1+i]!=nums2[i2+i]) <span class="keyword">return</span> nums1[i1+i]&gt;nums2[i2+i];</span><br><span class="line">        <span class="keyword">return</span> nums1.size()-i1 &gt; nums2.size()-i2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="324-Wiggle-Sort-II"><a href="#324-Wiggle-Sort-II" class="headerlink" title="324. Wiggle Sort II"></a>324. Wiggle Sort II</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">wiggleSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        sort(nums.begin(), nums.end());</span><br><span class="line">        <span class="keyword">int</span> len = nums.size(), r = len<span class="number">-1</span>, l = (len+<span class="number">1</span>)/<span class="number">2</span><span class="number">-1</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result(len, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len/<span class="number">2</span>; ++i) &#123; </span><br><span class="line">            result[i*<span class="number">2</span>  ] = nums[l--];</span><br><span class="line">            result[i*<span class="number">2</span>+<span class="number">1</span>] = nums[r--];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (len%<span class="number">2</span> == <span class="number">1</span>) result[len<span class="number">-1</span>] = nums[<span class="number">0</span>];</span><br><span class="line">        nums.swap(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">wiggleSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = nums.size();</span><br><span class="line">        <span class="keyword">auto</span> p = nums.begin() + len/<span class="number">2</span>;</span><br><span class="line">        nth_element(nums.begin(), p, nums.end());</span><br><span class="line">        <span class="meta">#<span class="meta-keyword">define</span> NUMS(i) nums[(2*i+1)%(len|1)]</span></span><br><span class="line">        <span class="keyword">int</span> m = *p, i = <span class="number">0</span>, l = <span class="number">0</span>, h = len<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt;= h) &#123;</span><br><span class="line">            <span class="keyword">if</span>      (NUMS(i) &gt; m) swap(NUMS(i++), NUMS(l++));</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (NUMS(i) &lt; m) swap(NUMS(i)  , NUMS(h--));</span><br><span class="line">            <span class="keyword">else</span>                  i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="meta-keyword">undef</span> NUMS</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="557-Reverse-Words-in-a-String-III"><a href="#557-Reverse-Words-in-a-String-III" class="headerlink" title="557. Reverse Words in a String III"></a>557. Reverse Words in a String III</h2><p>链接: <a href="https://leetcode.com/problems/reverse-words-in-a-string-iii/#/description" target="_blank" rel="noopener">https://leetcode.com/problems/reverse-words-in-a-string-iii/#/description</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">reverseWords</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s.empty()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, h = <span class="number">0</span>, L = s.length();</span><br><span class="line">        <span class="keyword">char</span> pre = s[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; L; i++) &#123;</span><br><span class="line">            <span class="keyword">char</span> cur = s[i];</span><br><span class="line">            <span class="keyword">if</span> (pre == <span class="string">' '</span> &amp;&amp; cur != <span class="string">' '</span>) &#123;</span><br><span class="line">                l = i;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (pre != <span class="string">' '</span> &amp;&amp; (cur == <span class="string">' '</span> || i == L<span class="number">-1</span>)) &#123;</span><br><span class="line">                h = i==L<span class="number">-1</span> ? L<span class="number">-1</span> : i<span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">if</span> (h &gt; l) reverseString(s, l, h);</span><br><span class="line">            &#125;</span><br><span class="line">            pre = cur;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> move(s);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">reverseString</span><span class="params">(<span class="built_in">string</span> &amp;s, <span class="keyword">int</span> l, <span class="keyword">int</span> h)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= (h-l)/<span class="number">2</span>; ++i) &#123;</span><br><span class="line">            <span class="keyword">char</span> tmp = s[l+i]; s[l+i] = s[h-i]; s[h-i] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="549-Binary-Tree-Longest-Consecutive-Sequence-II"><a href="#549-Binary-Tree-Longest-Consecutive-Sequence-II" class="headerlink" title="549. Binary Tree Longest Consecutive Sequence II"></a>549. Binary Tree Longest Consecutive Sequence II</h2><p>链接：<a href="https://leetcode.com/problems/binary-tree-longest-consecutive-sequence-ii/#/description" target="_blank" rel="noopener">https://leetcode.com/problems/binary-tree-longest-consecutive-sequence-ii/#/description</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">0</span>, d = <span class="number">0</span>, result = <span class="number">0</span>;</span><br><span class="line">        longestConsecutive(root, a, d, result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">longestConsecutive</span><span class="params">(TreeNode *root, <span class="keyword">int</span> &amp;a, <span class="keyword">int</span> &amp;d, <span class="keyword">int</span> &amp;result)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">nullptr</span>) <span class="keyword">return</span>;</span><br><span class="line">        a = <span class="number">1</span>; d = <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> la = <span class="number">0</span>, ld = <span class="number">0</span>;</span><br><span class="line">        longestConsecutive(root-&gt;left , la, ld, result);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> ra = <span class="number">0</span>, rd = <span class="number">0</span>;</span><br><span class="line">        longestConsecutive(root-&gt;right, ra, rd, result);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> aa = <span class="number">1</span>, dd = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;left  &amp;&amp; root-&gt;left-&gt;val  == root-&gt;val - <span class="number">1</span>) &#123; aa += la; a = max(a, la+<span class="number">1</span>); &#125;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;right &amp;&amp; root-&gt;right-&gt;val == root-&gt;val + <span class="number">1</span>) &#123; aa += rd; d = max(d, rd+<span class="number">1</span>); &#125;</span><br><span class="line">        result = max(aa, result);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (root-&gt;left  &amp;&amp; root-&gt;left-&gt;val  == root-&gt;val + <span class="number">1</span>) &#123; dd += ld; d = max(d, ld+<span class="number">1</span>); &#125;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;right &amp;&amp; root-&gt;right-&gt;val == root-&gt;val - <span class="number">1</span>) &#123; dd += ra; a = max(a, ra+<span class="number">1</span>); &#125;</span><br><span class="line">        result = max(dd, result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="554-Brick-Wall"><a href="#554-Brick-Wall" class="headerlink" title="554. Brick Wall"></a>554. Brick Wall</h2><p>链接：<a href="https://leetcode.com/problems/brick-wall/#/description" target="_blank" rel="noopener">https://leetcode.com/problems/brick-wall/#/description</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">leastBricks</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; wall)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> L = wall.size(), result = <span class="number">0</span>; <span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; tbl;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L; ++i) &#123;</span><br><span class="line">            <span class="keyword">int</span> space = <span class="number">0</span>, len = wall[i].size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= len<span class="number">-2</span>; ++j) &#123;</span><br><span class="line">                space += wall[i][j];</span><br><span class="line">                <span class="keyword">if</span> (tbl.find(space) == tbl.end())  tbl[space] = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span> tbl[space]++;</span><br><span class="line">                result = max(result, tbl[space]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> L - result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="556-Next-Greater-Element-III"><a href="#556-Next-Greater-Element-III" class="headerlink" title="556. Next Greater Element III"></a>556. Next Greater Element III</h2><p>链接：<a href="https://leetcode.com/problems/next-greater-element-iii/#/description" target="_blank" rel="noopener">https://leetcode.com/problems/next-greater-element-iii/#/description</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">nextGreaterElement</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; digits;</span><br><span class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123; digits.push_back(n % <span class="number">10</span>); n = n / <span class="number">10</span>; &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> i, j, L = digits.size();</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; L; ++j) <span class="keyword">if</span> (digits[j<span class="number">-1</span>] &gt; digits[j]) <span class="keyword">break</span>; </span><br><span class="line">        <span class="keyword">if</span>  (j == L) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; j; ++i) <span class="keyword">if</span> (digits[i] &gt; digits[j]) <span class="keyword">break</span>;</span><br><span class="line">        </span><br><span class="line">        swap(digits[i], digits[j]);</span><br><span class="line">        reverse(digits.begin(), digits.begin() + j);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> nn = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = L<span class="number">-1</span>; i &gt;= <span class="number">0</span>; --i) nn = nn * <span class="number">10</span> + digits[i];</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> nn &gt; INT_MAX ? <span class="number">-1</span> : <span class="keyword">int</span>(nn);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="551-Student-Attendance-Record-I"><a href="#551-Student-Attendance-Record-I" class="headerlink" title="551. Student Attendance Record I"></a>551. Student Attendance Record I</h2><p>链接：<a href="https://leetcode.com/problems/student-attendance-record-i/#/description" target="_blank" rel="noopener">https://leetcode.com/problems/student-attendance-record-i/#/description</a><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">checkRecord</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = s.length(), A = <span class="number">0</span>, L = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">'A'</span>) &#123;</span><br><span class="line">                L = <span class="number">0</span>;</span><br><span class="line">                A++;</span><br><span class="line">                <span class="keyword">if</span> (A &gt;= <span class="number">2</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">'L'</span>) &#123;</span><br><span class="line">                L++;</span><br><span class="line">                <span class="keyword">if</span> (L &gt;= <span class="number">3</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                L = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="552-Student-Attendance-Record-II"><a href="#552-Student-Attendance-Record-II" class="headerlink" title="552. Student Attendance Record II"></a>552. Student Attendance Record II</h2><p>链接：<a href="https://leetcode.com/problems/student-attendance-record-ii/#/description" target="_blank" rel="noopener">https://leetcode.com/problems/student-attendance-record-ii/#/description</a><br>动态规划，从n-1的数量转换到n的数量。a1l1表示，<strong>A</strong>L，即前面包含A且以一个L结尾，其他类推。因此，可以推出下一个的各个a0l0，a1l1的数量。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">checkRecord</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> a0l0 = <span class="number">1</span>, a0l1 = <span class="number">1</span>, a0l2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">long</span> a1l0 = <span class="number">1</span>, a1l1 = <span class="number">0</span>, a1l2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> tmp = <span class="number">0</span>, M = <span class="number">1000000007</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; i++) &#123;</span><br><span class="line">            tmp = (a0l0 + a0l1 + a0l2) % M;</span><br><span class="line">            a0l2 = a0l1;</span><br><span class="line">            a0l1 = a0l0;</span><br><span class="line">            a0l0 = tmp;</span><br><span class="line">            tmp = (a1l0 + a1l1 + a1l2 + tmp) % M;</span><br><span class="line">            a1l2 = a1l1;</span><br><span class="line">            a1l1 = a1l0;</span><br><span class="line">            a1l0 = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (a0l0 + a0l1 + a0l2 + a1l0 + a1l1 + a1l2) % M;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>

  </div>
</article>



  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/amendgit">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#54-Spiral-Matrix"><span class="toc-number">1.</span> <span class="toc-text">54. Spiral Matrix</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#57-Insert-Interval"><span class="toc-number">2.</span> <span class="toc-text">57. Insert Interval</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#61-Rotate-List"><span class="toc-number">3.</span> <span class="toc-text">61. Rotate List</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#65-Valid-Number"><span class="toc-number">4.</span> <span class="toc-text">65. Valid Number</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#71-Simplify-Path"><span class="toc-number">5.</span> <span class="toc-text">71. Simplify Path</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#76-Minimum-Window-Substring"><span class="toc-number">6.</span> <span class="toc-text">76. Minimum Window Substring</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#79-Word-Search"><span class="toc-number">7.</span> <span class="toc-text">79. Word Search</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#84-Largest-Rectangle-in-Histogram"><span class="toc-number">8.</span> <span class="toc-text">84. Largest Rectangle in Histogram</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#85-Maximal-Rectangle"><span class="toc-number">9.</span> <span class="toc-text">85. Maximal Rectangle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#91-Decode-Ways"><span class="toc-number">10.</span> <span class="toc-text">91. Decode Ways</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#93-Restore-IP-Addresses"><span class="toc-number">11.</span> <span class="toc-text">93. Restore IP Addresses</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#97-Interleaving-String"><span class="toc-number">12.</span> <span class="toc-text">97. Interleaving String</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#98-Validate-Binary-Search-Tree"><span class="toc-number">13.</span> <span class="toc-text">98. Validate Binary Search Tree</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#124-Binary-Tree-Maximum-Path-Sum"><span class="toc-number">14.</span> <span class="toc-text">124. Binary Tree Maximum Path Sum</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#126-Word-Ladder-II"><span class="toc-number">15.</span> <span class="toc-text">126. Word Ladder II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#132-Palindrome-Partitioning-II"><span class="toc-number">16.</span> <span class="toc-text">132. Palindrome Partitioning II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#139-Word-Break"><span class="toc-number">17.</span> <span class="toc-text">139. Word Break</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#140-Word-Break-II"><span class="toc-number">18.</span> <span class="toc-text">140. Word Break II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#143-Reorder-List"><span class="toc-number">19.</span> <span class="toc-text">143. Reorder List</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#144-Binary-Tree-Preorder-Traversal"><span class="toc-number">20.</span> <span class="toc-text">144. Binary Tree Preorder Traversal</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#146-LRU-Cache"><span class="toc-number">21.</span> <span class="toc-text">146. LRU Cache</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#149-Max-Points-on-a-Line"><span class="toc-number">22.</span> <span class="toc-text">149. Max Points on a Line</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#151-Reverse-Words-in-a-String"><span class="toc-number">23.</span> <span class="toc-text">151  Reverse Words in a String</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#130-Surrounded-Regions"><span class="toc-number">24.</span> <span class="toc-text">130. Surrounded Regions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#152-Maximum-Product-Subarray"><span class="toc-number">25.</span> <span class="toc-text">152. Maximum Product Subarray</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#155-Min-Stack"><span class="toc-number">26.</span> <span class="toc-text">155. Min Stack</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#189-Rotate-Array"><span class="toc-number">27.</span> <span class="toc-text">189. Rotate Array</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#212-Word-Search-II"><span class="toc-number">28.</span> <span class="toc-text">212. Word Search II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#218-The-Skyline-Problem"><span class="toc-number">29.</span> <span class="toc-text">218. The Skyline Problem</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#233-Number-of-Digit-One"><span class="toc-number">30.</span> <span class="toc-text">233. Number of Digit One</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#295-Find-Median-from-Data-Stream"><span class="toc-number">31.</span> <span class="toc-text">295. Find Median from Data Stream</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#304-Range-Sum-Query-2D-Immutable"><span class="toc-number">32.</span> <span class="toc-text">304. Range Sum Query 2D - Immutable</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#307-Range-Sum-Query-Mutable"><span class="toc-number">33.</span> <span class="toc-text">307. Range Sum Query - Mutable</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#321-Create-Maximum-Number"><span class="toc-number">34.</span> <span class="toc-text">321. Create Maximum Number</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#324-Wiggle-Sort-II"><span class="toc-number">35.</span> <span class="toc-text">324. Wiggle Sort II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#557-Reverse-Words-in-a-String-III"><span class="toc-number">36.</span> <span class="toc-text">557. Reverse Words in a String III</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#549-Binary-Tree-Longest-Consecutive-Sequence-II"><span class="toc-number">37.</span> <span class="toc-text">549. Binary Tree Longest Consecutive Sequence II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#554-Brick-Wall"><span class="toc-number">38.</span> <span class="toc-text">554. Brick Wall</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#556-Next-Greater-Element-III"><span class="toc-number">39.</span> <span class="toc-text">556. Next Greater Element III</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#551-Student-Attendance-Record-I"><span class="toc-number">40.</span> <span class="toc-text">551. Student Attendance Record I</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#552-Student-Attendance-Record-II"><span class="toc-number">41.</span> <span class="toc-text">552. Student Attendance Record II</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://www.amendgit.com/2017/leetcode-solutions-050-N/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://www.amendgit.com/2017/leetcode-solutions-050-N/&text=LeetCode解题报告 50-N"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://www.amendgit.com/2017/leetcode-solutions-050-N/&title=LeetCode解题报告 50-N"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://www.amendgit.com/2017/leetcode-solutions-050-N/&is_video=false&description=LeetCode解题报告 50-N"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=LeetCode解题报告 50-N&body=Check out this article: http://www.amendgit.com/2017/leetcode-solutions-050-N/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://www.amendgit.com/2017/leetcode-solutions-050-N/&title=LeetCode解题报告 50-N"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://www.amendgit.com/2017/leetcode-solutions-050-N/&title=LeetCode解题报告 50-N"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://www.amendgit.com/2017/leetcode-solutions-050-N/&title=LeetCode解题报告 50-N"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://www.amendgit.com/2017/leetcode-solutions-050-N/&title=LeetCode解题报告 50-N"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://www.amendgit.com/2017/leetcode-solutions-050-N/&name=LeetCode解题报告 50-N&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick='$("#toc-footer").toggle();return false;'><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick='$("#share-footer").toggle();return false;'><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick='$("#nav-footer").toggle();return false;'><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 amendgit
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/amendgit">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>

<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">


<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-86660611-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->


